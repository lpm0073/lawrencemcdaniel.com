{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.clearGetFormCacheForModel = exports.clearGetFormCache = undefined;\nexports.getFormStateKey = getFormStateKey;\n\nvar _get = require('../utils/get');\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _isPlainObject = require('../utils/is-plain-object');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nvar _pathStartsWith = require('../utils/path-starts-with');\n\nvar _pathStartsWith2 = _interopRequireDefault(_pathStartsWith);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar defaultStrategy = {\n  get: _get2.default,\n  keys: function keys(state) {\n    return Object.keys(state);\n  },\n  isObject: function isObject(state) {\n    return (0, _isPlainObject2.default)(state);\n  }\n};\n\nfunction joinPaths() {\n  for (var _len = arguments.length, paths = Array(_len), _key = 0; _key < _len; _key++) {\n    paths[_key] = arguments[_key];\n  }\n\n  return paths.filter(function (path) {\n    return !!path && path.length;\n  }).join('.');\n}\n\nfunction getFormStateKey(state, model) {\n  var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultStrategy;\n  var currentPath = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n  var deepCandidateKeys = [];\n  var result = null;\n  s.keys(state).some(function (key) {\n    if (key === '') {\n      console.warn('react-redux-form skipped over an empty property key: %s', currentPath);\n      return false;\n    }\n\n    var subState = s.get(state, key);\n\n    if (subState && s.get(subState, '$form')) {\n      var subStateModel = s.get(subState, '$form.model');\n\n      if ((0, _pathStartsWith2.default)(model, subStateModel) || subStateModel === '') {\n        var localPath = (0, _pathStartsWith.pathDifference)(model, subStateModel);\n        var resultPath = [currentPath, key];\n        var currentState = subState;\n        localPath.every(function (segment) {\n          if (s.get(currentState, segment) && s.get(currentState, segment + '.$form')) {\n            currentState = s.get(currentState, segment);\n            resultPath.push(segment);\n            return true;\n          }\n\n          return false;\n        });\n        result = joinPaths.apply(undefined, resultPath);\n        return true;\n      }\n\n      return false;\n    }\n\n    if (s.isObject(subState)) {\n      deepCandidateKeys.push(key);\n    }\n\n    return false;\n  });\n  if (result) return result;\n  deepCandidateKeys.some(function (key) {\n    result = getFormStateKey(s.get(state, key), model, s, joinPaths(currentPath, key));\n    return !!result;\n  });\n  if (result) return result;\n  return null;\n}\n\nvar formStateKeyCache = {};\n\nvar clearGetFormCache = exports.clearGetFormCache = function clearGetFormCache() {\n  return formStateKeyCache = {};\n}; // eslint-disable-line no-return-assign\n\n\nvar clearGetFormCacheForModel = // eslint-disable-next-line\nexports.clearGetFormCacheForModel = function clearGetFormCacheForModel(modelString) {\n  return delete formStateKeyCache[modelString];\n};\n\nvar getFormStateKeyCached = function () {\n  return function (state, modelString) {\n    var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultStrategy;\n    if (formStateKeyCache[modelString]) return formStateKeyCache[modelString];\n    var result = getFormStateKey(state, modelString, s);\n    formStateKeyCache[modelString] = result; // eslint-disable-line no-return-assign\n\n    return result;\n  };\n}();\n\nfunction getForm(state, modelString) {\n  var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultStrategy;\n  var formStateKey = getFormStateKeyCached(state, modelString, s);\n\n  if (!formStateKey) {\n    return null;\n  }\n\n  var form = s.get(state, formStateKey);\n  return form;\n}\n\nexports.default = getForm;","map":{"version":3,"sources":["/Users/mcdaniel/github/lpm0073/lawrencemcdaniel.com/site/node_modules/react-redux-form/lib/utils/get-form.js"],"names":["Object","defineProperty","exports","value","clearGetFormCacheForModel","clearGetFormCache","undefined","getFormStateKey","_get","require","_get2","_interopRequireDefault","_isPlainObject","_isPlainObject2","_pathStartsWith","_pathStartsWith2","obj","__esModule","default","defaultStrategy","get","keys","state","isObject","joinPaths","_len","arguments","length","paths","Array","_key","filter","path","join","model","s","currentPath","deepCandidateKeys","result","some","key","console","warn","subState","subStateModel","localPath","pathDifference","resultPath","currentState","every","segment","push","apply","formStateKeyCache","modelString","getFormStateKeyCached","getForm","formStateKey","form"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.clearGetFormCacheForModel = exports.clearGetFormCache = undefined;\nexports.getFormStateKey = getFormStateKey;\n\nvar _get = require('../utils/get');\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _isPlainObject = require('../utils/is-plain-object');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nvar _pathStartsWith = require('../utils/path-starts-with');\n\nvar _pathStartsWith2 = _interopRequireDefault(_pathStartsWith);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaultStrategy = {\n  get: _get2.default,\n  keys: function keys(state) {\n    return Object.keys(state);\n  },\n  isObject: function isObject(state) {\n    return (0, _isPlainObject2.default)(state);\n  }\n};\n\nfunction joinPaths() {\n  for (var _len = arguments.length, paths = Array(_len), _key = 0; _key < _len; _key++) {\n    paths[_key] = arguments[_key];\n  }\n\n  return paths.filter(function (path) {\n    return !!path && path.length;\n  }).join('.');\n}\n\nfunction getFormStateKey(state, model) {\n  var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultStrategy;\n  var currentPath = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n\n  var deepCandidateKeys = [];\n  var result = null;\n\n  s.keys(state).some(function (key) {\n    if (key === '') {\n      console.warn('react-redux-form skipped over an empty property key: %s', currentPath);\n      return false;\n    }\n    var subState = s.get(state, key);\n\n    if (subState && s.get(subState, '$form')) {\n      var subStateModel = s.get(subState, '$form.model');\n\n      if ((0, _pathStartsWith2.default)(model, subStateModel) || subStateModel === '') {\n        var localPath = (0, _pathStartsWith.pathDifference)(model, subStateModel);\n\n        var resultPath = [currentPath, key];\n        var currentState = subState;\n\n        localPath.every(function (segment) {\n          if (s.get(currentState, segment) && s.get(currentState, segment + '.$form')) {\n            currentState = s.get(currentState, segment);\n            resultPath.push(segment);\n\n            return true;\n          }\n\n          return false;\n        });\n\n        result = joinPaths.apply(undefined, resultPath);\n\n        return true;\n      }\n\n      return false;\n    }\n\n    if (s.isObject(subState)) {\n      deepCandidateKeys.push(key);\n    }\n\n    return false;\n  });\n\n  if (result) return result;\n\n  deepCandidateKeys.some(function (key) {\n    result = getFormStateKey(s.get(state, key), model, s, joinPaths(currentPath, key));\n\n    return !!result;\n  });\n\n  if (result) return result;\n\n  return null;\n}\n\nvar formStateKeyCache = {};\n\nvar clearGetFormCache = exports.clearGetFormCache = function clearGetFormCache() {\n  return formStateKeyCache = {};\n}; // eslint-disable-line no-return-assign\n\nvar clearGetFormCacheForModel =\n// eslint-disable-next-line\nexports.clearGetFormCacheForModel = function clearGetFormCacheForModel(modelString) {\n  return delete formStateKeyCache[modelString];\n};\n\nvar getFormStateKeyCached = function () {\n  return function (state, modelString) {\n    var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultStrategy;\n\n    if (formStateKeyCache[modelString]) return formStateKeyCache[modelString];\n\n    var result = getFormStateKey(state, modelString, s);\n\n    formStateKeyCache[modelString] = result; // eslint-disable-line no-return-assign\n\n    return result;\n  };\n}();\n\nfunction getForm(state, modelString) {\n  var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultStrategy;\n\n  var formStateKey = getFormStateKeyCached(state, modelString, s);\n\n  if (!formStateKey) {\n    return null;\n  }\n\n  var form = s.get(state, formStateKey);\n\n  return form;\n}\n\nexports.default = getForm;"]},"metadata":{},"sourceType":"script"}