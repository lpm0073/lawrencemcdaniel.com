{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createFieldActions = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _get2 = require('../utils/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _mapValues = require('../utils/map-values');\n\nvar _mapValues2 = _interopRequireDefault(_mapValues);\n\nvar _actionTypes = require('../action-types');\n\nvar _actionTypes2 = _interopRequireDefault(_actionTypes);\n\nvar _batchActions = require('./batch-actions');\n\nvar _batchActions2 = _interopRequireDefault(_batchActions);\n\nvar _getValidity = require('../utils/get-validity');\n\nvar _getValidity2 = _interopRequireDefault(_getValidity);\n\nvar _isValidityValid = require('../utils/is-validity-valid');\n\nvar _isValidityValid2 = _interopRequireDefault(_isValidityValid);\n\nvar _isValidityInvalid = require('../utils/is-validity-invalid');\n\nvar _isValidityInvalid2 = _interopRequireDefault(_isValidityInvalid);\n\nvar _invertValidity = require('../utils/invert-validity');\n\nvar _invertValidity2 = _interopRequireDefault(_invertValidity);\n\nvar _track = require('../utils/track');\n\nvar _getForm = require('../utils/get-form');\n\nvar _getForm2 = _interopRequireDefault(_getForm);\n\nvar _getFieldFromState = require('../utils/get-field-from-state');\n\nvar _getFieldFromState2 = _interopRequireDefault(_getFieldFromState);\n\nvar _nullAction = require('../constants/null-action');\n\nvar _nullAction2 = _interopRequireDefault(_nullAction);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar defaultStrategies = {\n  get: _get3.default,\n  getForm: _getForm2.default,\n  getFieldFromState: _getFieldFromState2.default\n};\n\nfunction createFieldActions() {\n  var s = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultStrategies;\n\n  var addIntent = function addIntent(model, intent) {\n    return {\n      type: _actionTypes2.default.ADD_INTENT,\n      model: model,\n      intent: intent\n    };\n  };\n\n  var clearIntents = function clearIntents(model, intents) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return {\n      type: _actionTypes2.default.CLEAR_INTENTS,\n      model: model,\n      intents: intents,\n      options: options\n    };\n  };\n\n  var focus = function focus(model, value) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return _extends({\n      type: _actionTypes2.default.FOCUS,\n      model: model,\n      value: value\n    }, options);\n  };\n\n  var silentFocus = function silentFocus(model, value) {\n    return focus(model, value, {\n      silent: true\n    });\n  };\n\n  var blur = function blur(model) {\n    return {\n      type: _actionTypes2.default.BLUR,\n      model: model\n    };\n  };\n\n  var setPristine = function setPristine(model) {\n    return {\n      type: _actionTypes2.default.SET_PRISTINE,\n      model: model\n    };\n  };\n\n  var setDirty = function setDirty(model) {\n    return {\n      type: _actionTypes2.default.SET_DIRTY,\n      model: model\n    };\n  };\n\n  var setInitial = function setInitial(model) {\n    return {\n      type: _actionTypes2.default.SET_INITIAL,\n      model: model\n    };\n  };\n\n  var setPending = function setPending(model) {\n    var pending = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var options = arguments[2];\n    return _extends({\n      type: _actionTypes2.default.SET_PENDING,\n      model: model,\n      pending: pending\n    }, options);\n  };\n\n  var setValidating = function setValidating(model) {\n    var validating = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    return {\n      type: _actionTypes2.default.SET_VALIDATING,\n      model: model,\n      validating: validating\n    };\n  };\n\n  var setValidity = function setValidity(model, validity) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return _extends({\n      type: options.errors ? _actionTypes2.default.SET_ERRORS : _actionTypes2.default.SET_VALIDITY,\n      model: model\n    }, options, _defineProperty({}, options.errors ? 'errors' : 'validity', validity));\n  };\n\n  var resetValidity = function resetValidity(model) {\n    var omitKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    return {\n      type: _actionTypes2.default.RESET_VALIDITY,\n      model: model,\n      omitKeys: omitKeys\n    };\n  };\n\n  var setFieldsValidity = function setFieldsValidity(model, fieldsValidity) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return {\n      type: _actionTypes2.default.SET_FIELDS_VALIDITY,\n      model: model,\n      fieldsValidity: fieldsValidity,\n      options: options\n    };\n  };\n\n  var setErrors = function setErrors(model, errors) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return setValidity(model, errors, _extends({}, options, {\n      errors: true\n    }));\n  };\n\n  var setFieldsErrors = function setFieldsErrors(model, fieldsErrors, options) {\n    return setFieldsValidity(model, fieldsErrors, _extends({}, options, {\n      errors: true\n    }));\n  };\n\n  var resetErrors = resetValidity;\n\n  var setTouched = function setTouched(model) {\n    return {\n      type: _actionTypes2.default.SET_TOUCHED,\n      model: model\n    };\n  };\n\n  var setUntouched = function setUntouched(model) {\n    return {\n      type: _actionTypes2.default.SET_UNTOUCHED,\n      model: model\n    };\n  };\n\n  var asyncSetValidity = function asyncSetValidity(model, validator) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return function (dispatch, getState) {\n      var value = s.get(getState(), model);\n      dispatch(setValidating(model, true));\n\n      var done = function done(validity) {\n        dispatch(setValidity(model, validity, _extends({\n          async: true\n        }, options)));\n      };\n\n      var immediateResult = validator(value, done);\n\n      if (typeof immediateResult !== 'undefined') {\n        done(immediateResult);\n      }\n    };\n  };\n\n  var asyncSetErrors = function asyncSetErrors(model, validator) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return asyncSetValidity(model, validator, _extends({\n      errors: true\n    }, options));\n  };\n\n  var setSubmitted = function setSubmitted(model) {\n    var submitted = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    return {\n      type: _actionTypes2.default.SET_SUBMITTED,\n      model: model,\n      submitted: submitted\n    };\n  };\n\n  var setSubmitFailed = function setSubmitFailed(model) {\n    var submitFailed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var options = arguments[2];\n    return _extends({\n      type: _actionTypes2.default.SET_SUBMIT_FAILED,\n      model: model,\n      submitFailed: submitFailed\n    }, options);\n  };\n\n  var submit = function submit(model, promise) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    if (typeof promise === 'undefined') {\n      return addIntent(model, {\n        type: 'submit'\n      });\n    }\n\n    return function (dispatch, getState) {\n      if (options.validate) {\n        var form = s.getForm(getState(), model);\n        (0, _invariant2.default)(form, 'Unable to submit form with validation. ' + 'Could not find form for \"%s\" in the store.', model);\n\n        if (!form.$form.valid) {\n          return dispatch(_nullAction2.default);\n        }\n\n        dispatch(setPending(model, true));\n      } else if (options.validators || options.errors) {\n        var validators = options.validators || options.errors;\n        var isErrors = options.errors;\n        var value = s.get(getState(), model);\n        var validity = (0, _getValidity2.default)(validators, value);\n        var valid = options.errors ? !(0, _isValidityInvalid2.default)(validity) : (0, _isValidityValid2.default)(validity);\n\n        if (!valid) {\n          return dispatch(isErrors ? setErrors(model, validity) : setValidity(model, validity));\n        }\n\n        dispatch((0, _batchActions2.default)(model, [setValidity(model, isErrors ? (0, _invertValidity2.default)(validity) : validity), setPending(model, true)]));\n      } else {\n        dispatch(setPending(model, true));\n      }\n\n      var errorsAction = options.fields ? setFieldsErrors : setErrors;\n      promise.then(function (response) {\n        dispatch((0, _batchActions2.default)(model, [setSubmitted(model, true), setValidity(model, response)]));\n      }).catch(function (rejection) {\n        var error = rejection instanceof Error ? rejection.message : rejection;\n        dispatch((0, _batchActions2.default)(model, [setSubmitFailed(model), errorsAction(model, error, {\n          async: true\n        })]));\n      });\n      return promise;\n    };\n  };\n\n  var submitFields = function submitFields(model, promise) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return submit(model, promise, _extends({}, options, {\n      fields: true\n    }));\n  };\n\n  var validSubmit = function validSubmit(model, promise) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return submit(model, promise, _extends({}, options, {\n      validate: true\n    }));\n  };\n\n  var validate = function validate(model, validators) {\n    return function (dispatch, getState) {\n      var value = s.get(getState(), model);\n      var validity = (0, _getValidity2.default)(validators, value);\n      dispatch(setValidity(model, validity));\n    };\n  };\n\n  var validateErrors = function validateErrors(model, errorValidators) {\n    return function (dispatch, getState) {\n      var value = s.get(getState(), model);\n      var errors = (0, _getValidity2.default)(errorValidators, value);\n      dispatch(setValidity(model, errors, {\n        errors: true\n      }));\n    };\n  };\n\n  var validateFields = function validateFields(model, fieldValidators) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return function (dispatch, getState) {\n      var modelValue = s.get(getState(), model);\n      var fieldsValidity = (0, _mapValues2.default)(fieldValidators, function (validator, field) {\n        var fieldValue = field ? s.get(modelValue, field) : modelValue;\n        var fieldValidity = (0, _getValidity2.default)(validator, fieldValue);\n        return fieldValidity;\n      });\n      var fieldsValiditySetter = options.errors ? setFieldsErrors : setFieldsValidity;\n      dispatch(fieldsValiditySetter(model, fieldsValidity));\n    };\n  };\n\n  var validateFieldsErrors = function validateFieldsErrors(model, fieldErrorsValidators) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return validateFields(model, fieldErrorsValidators, _extends({}, options, {\n      errors: true\n    }));\n  };\n\n  return (0, _mapValues2.default)({\n    blur: blur,\n    focus: focus,\n    silentFocus: silentFocus,\n    submit: submit,\n    submitFields: submitFields,\n    validSubmit: validSubmit,\n    setDirty: setDirty,\n    setErrors: setErrors,\n    setInitial: setInitial,\n    setPending: setPending,\n    setValidating: setValidating,\n    setPristine: setPristine,\n    setSubmitted: setSubmitted,\n    setSubmitFailed: setSubmitFailed,\n    setTouched: setTouched,\n    setUntouched: setUntouched,\n    setValidity: setValidity,\n    setFieldsValidity: setFieldsValidity,\n    setFieldsErrors: setFieldsErrors,\n    resetValidity: resetValidity,\n    resetErrors: resetErrors,\n    validate: validate,\n    validateErrors: validateErrors,\n    validateFields: validateFields,\n    validateFieldsErrors: validateFieldsErrors,\n    asyncSetValidity: asyncSetValidity,\n    asyncSetErrors: asyncSetErrors,\n    addIntent: addIntent,\n    clearIntents: clearIntents\n  }, _track.trackable);\n}\n\nexports.createFieldActions = createFieldActions;\nexports.default = createFieldActions();","map":{"version":3,"sources":["/Users/mcdaniel/github/lpm0073/lawrencemcdaniel.com/site/node_modules/react-redux-form/lib/actions/field-actions.js"],"names":["Object","defineProperty","exports","value","createFieldActions","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_get2","require","_get3","_interopRequireDefault","_mapValues","_mapValues2","_actionTypes","_actionTypes2","_batchActions","_batchActions2","_getValidity","_getValidity2","_isValidityValid","_isValidityValid2","_isValidityInvalid","_isValidityInvalid2","_invertValidity","_invertValidity2","_track","_getForm","_getForm2","_getFieldFromState","_getFieldFromState2","_nullAction","_nullAction2","_invariant","_invariant2","obj","__esModule","default","_defineProperty","enumerable","configurable","writable","defaultStrategies","get","getForm","getFieldFromState","s","addIntent","model","intent","type","ADD_INTENT","clearIntents","intents","options","CLEAR_INTENTS","focus","FOCUS","silentFocus","silent","blur","BLUR","setPristine","SET_PRISTINE","setDirty","SET_DIRTY","setInitial","SET_INITIAL","setPending","pending","SET_PENDING","setValidating","validating","SET_VALIDATING","setValidity","validity","errors","SET_ERRORS","SET_VALIDITY","resetValidity","omitKeys","RESET_VALIDITY","setFieldsValidity","fieldsValidity","SET_FIELDS_VALIDITY","setErrors","setFieldsErrors","fieldsErrors","resetErrors","setTouched","SET_TOUCHED","setUntouched","SET_UNTOUCHED","asyncSetValidity","validator","dispatch","getState","done","async","immediateResult","asyncSetErrors","setSubmitted","submitted","SET_SUBMITTED","setSubmitFailed","submitFailed","SET_SUBMIT_FAILED","submit","promise","validate","form","$form","valid","validators","isErrors","errorsAction","fields","then","response","catch","rejection","error","Error","message","submitFields","validSubmit","validateErrors","errorValidators","validateFields","fieldValidators","modelValue","field","fieldValue","fieldValidity","fieldsValiditySetter","validateFieldsErrors","fieldErrorsValidators","trackable"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createFieldActions = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _get2 = require('../utils/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _mapValues = require('../utils/map-values');\n\nvar _mapValues2 = _interopRequireDefault(_mapValues);\n\nvar _actionTypes = require('../action-types');\n\nvar _actionTypes2 = _interopRequireDefault(_actionTypes);\n\nvar _batchActions = require('./batch-actions');\n\nvar _batchActions2 = _interopRequireDefault(_batchActions);\n\nvar _getValidity = require('../utils/get-validity');\n\nvar _getValidity2 = _interopRequireDefault(_getValidity);\n\nvar _isValidityValid = require('../utils/is-validity-valid');\n\nvar _isValidityValid2 = _interopRequireDefault(_isValidityValid);\n\nvar _isValidityInvalid = require('../utils/is-validity-invalid');\n\nvar _isValidityInvalid2 = _interopRequireDefault(_isValidityInvalid);\n\nvar _invertValidity = require('../utils/invert-validity');\n\nvar _invertValidity2 = _interopRequireDefault(_invertValidity);\n\nvar _track = require('../utils/track');\n\nvar _getForm = require('../utils/get-form');\n\nvar _getForm2 = _interopRequireDefault(_getForm);\n\nvar _getFieldFromState = require('../utils/get-field-from-state');\n\nvar _getFieldFromState2 = _interopRequireDefault(_getFieldFromState);\n\nvar _nullAction = require('../constants/null-action');\n\nvar _nullAction2 = _interopRequireDefault(_nullAction);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar defaultStrategies = {\n  get: _get3.default,\n  getForm: _getForm2.default,\n  getFieldFromState: _getFieldFromState2.default\n};\n\nfunction createFieldActions() {\n  var s = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultStrategies;\n\n  var addIntent = function addIntent(model, intent) {\n    return {\n      type: _actionTypes2.default.ADD_INTENT,\n      model: model,\n      intent: intent\n    };\n  };\n\n  var clearIntents = function clearIntents(model, intents) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return {\n      type: _actionTypes2.default.CLEAR_INTENTS,\n      model: model,\n      intents: intents,\n      options: options\n    };\n  };\n\n  var focus = function focus(model, value) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return _extends({\n      type: _actionTypes2.default.FOCUS,\n      model: model,\n      value: value\n    }, options);\n  };\n\n  var silentFocus = function silentFocus(model, value) {\n    return focus(model, value, {\n      silent: true\n    });\n  };\n\n  var blur = function blur(model) {\n    return {\n      type: _actionTypes2.default.BLUR,\n      model: model\n    };\n  };\n\n  var setPristine = function setPristine(model) {\n    return {\n      type: _actionTypes2.default.SET_PRISTINE,\n      model: model\n    };\n  };\n\n  var setDirty = function setDirty(model) {\n    return {\n      type: _actionTypes2.default.SET_DIRTY,\n      model: model\n    };\n  };\n\n  var setInitial = function setInitial(model) {\n    return {\n      type: _actionTypes2.default.SET_INITIAL,\n      model: model\n    };\n  };\n\n  var setPending = function setPending(model) {\n    var pending = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var options = arguments[2];\n    return _extends({\n      type: _actionTypes2.default.SET_PENDING,\n      model: model,\n      pending: pending\n    }, options);\n  };\n\n  var setValidating = function setValidating(model) {\n    var validating = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    return {\n      type: _actionTypes2.default.SET_VALIDATING,\n      model: model,\n      validating: validating\n    };\n  };\n\n  var setValidity = function setValidity(model, validity) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return _extends({\n      type: options.errors ? _actionTypes2.default.SET_ERRORS : _actionTypes2.default.SET_VALIDITY,\n      model: model\n    }, options, _defineProperty({}, options.errors ? 'errors' : 'validity', validity));\n  };\n\n  var resetValidity = function resetValidity(model) {\n    var omitKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    return {\n      type: _actionTypes2.default.RESET_VALIDITY,\n      model: model,\n      omitKeys: omitKeys\n    };\n  };\n\n  var setFieldsValidity = function setFieldsValidity(model, fieldsValidity) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return {\n      type: _actionTypes2.default.SET_FIELDS_VALIDITY,\n      model: model,\n      fieldsValidity: fieldsValidity,\n      options: options\n    };\n  };\n\n  var setErrors = function setErrors(model, errors) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return setValidity(model, errors, _extends({}, options, {\n      errors: true\n    }));\n  };\n\n  var setFieldsErrors = function setFieldsErrors(model, fieldsErrors, options) {\n    return setFieldsValidity(model, fieldsErrors, _extends({}, options, {\n      errors: true\n    }));\n  };\n\n  var resetErrors = resetValidity;\n\n  var setTouched = function setTouched(model) {\n    return {\n      type: _actionTypes2.default.SET_TOUCHED,\n      model: model\n    };\n  };\n\n  var setUntouched = function setUntouched(model) {\n    return {\n      type: _actionTypes2.default.SET_UNTOUCHED,\n      model: model\n    };\n  };\n\n  var asyncSetValidity = function asyncSetValidity(model, validator) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return function (dispatch, getState) {\n      var value = s.get(getState(), model);\n\n      dispatch(setValidating(model, true));\n\n      var done = function done(validity) {\n        dispatch(setValidity(model, validity, _extends({\n          async: true\n        }, options)));\n      };\n\n      var immediateResult = validator(value, done);\n\n      if (typeof immediateResult !== 'undefined') {\n        done(immediateResult);\n      }\n    };\n  };\n\n  var asyncSetErrors = function asyncSetErrors(model, validator) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return asyncSetValidity(model, validator, _extends({\n      errors: true\n    }, options));\n  };\n\n  var setSubmitted = function setSubmitted(model) {\n    var submitted = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    return {\n      type: _actionTypes2.default.SET_SUBMITTED,\n      model: model,\n      submitted: submitted\n    };\n  };\n\n  var setSubmitFailed = function setSubmitFailed(model) {\n    var submitFailed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var options = arguments[2];\n    return _extends({\n      type: _actionTypes2.default.SET_SUBMIT_FAILED,\n      model: model,\n      submitFailed: submitFailed\n    }, options);\n  };\n\n  var submit = function submit(model, promise) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    if (typeof promise === 'undefined') {\n      return addIntent(model, { type: 'submit' });\n    }\n\n    return function (dispatch, getState) {\n      if (options.validate) {\n        var form = s.getForm(getState(), model);\n\n        (0, _invariant2.default)(form, 'Unable to submit form with validation. ' + 'Could not find form for \"%s\" in the store.', model);\n\n        if (!form.$form.valid) {\n          return dispatch(_nullAction2.default);\n        }\n\n        dispatch(setPending(model, true));\n      } else if (options.validators || options.errors) {\n        var validators = options.validators || options.errors;\n        var isErrors = options.errors;\n        var value = s.get(getState(), model);\n        var validity = (0, _getValidity2.default)(validators, value);\n        var valid = options.errors ? !(0, _isValidityInvalid2.default)(validity) : (0, _isValidityValid2.default)(validity);\n\n        if (!valid) {\n          return dispatch(isErrors ? setErrors(model, validity) : setValidity(model, validity));\n        }\n\n        dispatch((0, _batchActions2.default)(model, [setValidity(model, isErrors ? (0, _invertValidity2.default)(validity) : validity), setPending(model, true)]));\n      } else {\n        dispatch(setPending(model, true));\n      }\n\n      var errorsAction = options.fields ? setFieldsErrors : setErrors;\n\n      promise.then(function (response) {\n        dispatch((0, _batchActions2.default)(model, [setSubmitted(model, true), setValidity(model, response)]));\n      }).catch(function (rejection) {\n        var error = rejection instanceof Error ? rejection.message : rejection;\n\n        dispatch((0, _batchActions2.default)(model, [setSubmitFailed(model), errorsAction(model, error, { async: true })]));\n      });\n\n      return promise;\n    };\n  };\n\n  var submitFields = function submitFields(model, promise) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return submit(model, promise, _extends({}, options, {\n      fields: true\n    }));\n  };\n\n  var validSubmit = function validSubmit(model, promise) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return submit(model, promise, _extends({}, options, {\n      validate: true\n    }));\n  };\n\n  var validate = function validate(model, validators) {\n    return function (dispatch, getState) {\n      var value = s.get(getState(), model);\n      var validity = (0, _getValidity2.default)(validators, value);\n\n      dispatch(setValidity(model, validity));\n    };\n  };\n\n  var validateErrors = function validateErrors(model, errorValidators) {\n    return function (dispatch, getState) {\n      var value = s.get(getState(), model);\n      var errors = (0, _getValidity2.default)(errorValidators, value);\n\n      dispatch(setValidity(model, errors, { errors: true }));\n    };\n  };\n\n  var validateFields = function validateFields(model, fieldValidators) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return function (dispatch, getState) {\n      var modelValue = s.get(getState(), model);\n\n      var fieldsValidity = (0, _mapValues2.default)(fieldValidators, function (validator, field) {\n        var fieldValue = field ? s.get(modelValue, field) : modelValue;\n\n        var fieldValidity = (0, _getValidity2.default)(validator, fieldValue);\n\n        return fieldValidity;\n      });\n\n      var fieldsValiditySetter = options.errors ? setFieldsErrors : setFieldsValidity;\n\n      dispatch(fieldsValiditySetter(model, fieldsValidity));\n    };\n  };\n\n  var validateFieldsErrors = function validateFieldsErrors(model, fieldErrorsValidators) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return validateFields(model, fieldErrorsValidators, _extends({}, options, {\n      errors: true\n    }));\n  };\n\n  return (0, _mapValues2.default)({\n    blur: blur,\n    focus: focus,\n    silentFocus: silentFocus,\n    submit: submit,\n    submitFields: submitFields,\n    validSubmit: validSubmit,\n    setDirty: setDirty,\n    setErrors: setErrors,\n    setInitial: setInitial,\n    setPending: setPending,\n    setValidating: setValidating,\n    setPristine: setPristine,\n    setSubmitted: setSubmitted,\n    setSubmitFailed: setSubmitFailed,\n    setTouched: setTouched,\n    setUntouched: setUntouched,\n    setValidity: setValidity,\n    setFieldsValidity: setFieldsValidity,\n    setFieldsErrors: setFieldsErrors,\n    resetValidity: resetValidity,\n    resetErrors: resetErrors,\n    validate: validate,\n    validateErrors: validateErrors,\n    validateFields: validateFields,\n    validateFieldsErrors: validateFieldsErrors,\n    asyncSetValidity: asyncSetValidity,\n    asyncSetErrors: asyncSetErrors,\n    addIntent: addIntent,\n    clearIntents: clearIntents\n  }, _track.trackable);\n}\n\nexports.createFieldActions = createFieldActions;\nexports.default = createFieldActions();"]},"metadata":{},"sourceType":"script"}