{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar TEST_ENV = 'production' === 'test';\n\nvar noop = function noop() {};\n\nvar ScriptTag = function (_Component) {\n  (0, _inherits3.default)(ScriptTag, _Component);\n\n  ScriptTag.removeNode = function removeNode(node) {\n    if (node) {\n      node.parentNode.removeChild(node);\n    }\n  };\n\n  function ScriptTag(props, context) {\n    (0, _classCallCheck3.default)(this, ScriptTag);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Component.call(this, props, context));\n\n    _this.domRef = null;\n    _this.state = {\n      isHydrated: props.isHydrating,\n      additionalNode: null,\n      removeAdditionalNode: null\n    };\n    return _this;\n  }\n\n  ScriptTag.prototype.appendAdditionalElement = function appendAdditionalElement() {\n    var _props = this.props,\n        onError = _props.onError,\n        onLoad = _props.onLoad,\n        nonce = _props.nonce; // Create a new HTML script element\n\n    var newElement = document.createElement(\"script\"); // Copy all attribute values\n\n    for (var i = 0, len = this.domRef.attributes.length; i < len; i++) {\n      var attr = this.domRef.attributes[i];\n\n      if (attr.nodeName === 'nonce') {\n        // The browser clears the nonce value - grab from props\n        newElement.setAttribute(attr.nodeName, nonce);\n      } else {\n        newElement.setAttribute(attr.nodeName, attr.nodeValue);\n      }\n    } // Copy the inner script\n\n\n    if (this.domRef.src === '' && this.domRef.innerHTML && this.domRef.innerHTML !== '') {\n      newElement.innerHTML = this.domRef.innerHTML;\n    } // Bind event listeners\n\n\n    newElement.addEventListener('load', onLoad);\n    newElement.addEventListener('error', onError); // Append the new script tag\n\n    this.domRef.parentNode.appendChild(newElement);\n    return newElement;\n  };\n\n  ScriptTag.prototype.componentDidMount = function componentDidMount() {\n    var isHydrated = this.state.isHydrated;\n\n    if (isHydrated) {\n      // was rendered on server, don't replace elements when hydrating\n      return;\n    }\n\n    this.setState({\n      additionalNode: this.appendAdditionalElement(),\n      removeAdditionalNode: null\n    });\n  };\n\n  ScriptTag.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    // This logic assumes that the <script> only need to be updated if the 'src' or 'innerHTML' has changed\n    //  - this prevents the <script> from updating unnecessarily, which prevents additional 'onload' events\n    // This isn't perfect - but it keeps the component very simple, and should cover most use-cases\n    // Other props SHOULD be assigned at the same time as either the 'src' or 'innerHTML' property\n    // -> If this is to change and support updating on ANY prop change, the 'appendAdditionalElement()' method\n    //    and state management will need to be modified to manipulate the DOM script tag based on each prop change.\n    //    This really complicates the component - for now we'll leave it as is.\n    var _props2 = this.props,\n        src = _props2.src,\n        dangerouslySetInnerHTML = _props2.dangerouslySetInnerHTML;\n\n    if (src && src === nextProps.src) {\n      // The 'src' attribute has not changed\n      return;\n    }\n\n    if (dangerouslySetInnerHTML && dangerouslySetInnerHTML.__html === nextProps.dangerouslySetInnerHTML.__html) {\n      // The 'dangerouslySetInnerHTML' attribute has not changed\n      return;\n    }\n\n    this.setState({\n      removeAdditionalNode: this.state.additionalNode,\n      additionalNode: null\n    });\n  };\n\n  ScriptTag.prototype.componentWillUpdate = function componentWillUpdate(nextProps, nextState) {\n    ScriptTag.removeNode(nextState.removeAdditionalNode);\n  };\n\n  ScriptTag.prototype.componentDidUpdate = function componentDidUpdate() {\n    var _state = this.state,\n        additionalNode = _state.additionalNode,\n        removeAdditionalNode = _state.removeAdditionalNode;\n\n    if (additionalNode === null) {\n      this.setState({\n        additionalNode: this.appendAdditionalElement()\n      });\n    }\n\n    if (removeAdditionalNode !== null) {\n      // Was removed in 'componentWillUpdate', but can not update state there\n      this.setState({\n        removeAdditionalNode: null\n      });\n    }\n  };\n\n  ScriptTag.prototype.componentWillUnmount = function componentWillUnmount() {\n    ScriptTag.removeNode(this.state.removeAdditionalNode);\n    ScriptTag.removeNode(this.state.additionalNode);\n  };\n\n  ScriptTag.prototype.render = function render() {\n    var _this2 = this;\n\n    var additionalNode = this.state.additionalNode;\n\n    if (additionalNode !== null) {\n      return null;\n    } // The 'isHydrating' prop must NOT be passed to the script tag\n    // eslint-disable-next-line no-unused-vars\n\n\n    var _props3 = this.props,\n        isHydrating = _props3.isHydrating,\n        tagProps = (0, _objectWithoutProperties3.default)(_props3, ['isHydrating']);\n    return _react2.default.createElement('script', (0, _extends3.default)({}, tagProps, {\n      ref: function ref(tag) {\n        return _this2.domRef = tag;\n      }\n    }));\n  };\n\n  return ScriptTag;\n}(_react.Component);\n\nScriptTag.propTypes = {\n  /**\n   * True if the <ScriptTag> is being hydrated on the client, otherwise false.\n   */\n  isHydrating: _propTypes2.default.bool,\n  // Standard <script> tag props\n  async: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.number]),\n  crossOrigin: _propTypes2.default.string,\n  defer: _propTypes2.default.bool,\n  integrity: _propTypes2.default.string,\n  nonce: _propTypes2.default.string,\n  src: _propTypes2.default.string,\n  text: _propTypes2.default.string,\n  type: _propTypes2.default.string,\n  dangerouslySetInnerHTML: _propTypes2.default.object,\n  // globals\n  onError: _propTypes2.default.func,\n  onLoad: _propTypes2.default.func\n};\nScriptTag.defaultProps = {\n  isHydrating: false,\n  onError: noop,\n  onLoad: noop\n};\nexports.default = ScriptTag;","map":{"version":3,"sources":["/Users/mcdaniel/github/lpm0073/lawrencemcdaniel.com/site/node_modules/react-script-tag/lib/ScriptTag.js"],"names":["exports","__esModule","_extends2","require","_extends3","_interopRequireDefault","_objectWithoutProperties2","_objectWithoutProperties3","_classCallCheck2","_classCallCheck3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_propTypes","_propTypes2","obj","default","TEST_ENV","noop","ScriptTag","_Component","removeNode","node","parentNode","removeChild","props","context","_this","call","domRef","state","isHydrated","isHydrating","additionalNode","removeAdditionalNode","prototype","appendAdditionalElement","_props","onError","onLoad","nonce","newElement","document","createElement","i","len","attributes","length","attr","nodeName","setAttribute","nodeValue","src","innerHTML","addEventListener","appendChild","componentDidMount","setState","componentWillReceiveProps","nextProps","_props2","dangerouslySetInnerHTML","__html","componentWillUpdate","nextState","componentDidUpdate","_state","componentWillUnmount","render","_this2","_props3","tagProps","ref","tag","Component","propTypes","bool","async","oneOfType","number","crossOrigin","string","defer","integrity","text","type","object","func","defaultProps"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TEST_ENV = 'production' === 'test';\nvar noop = function noop() {};\n\nvar ScriptTag = function (_Component) {\n    (0, _inherits3.default)(ScriptTag, _Component);\n\n    ScriptTag.removeNode = function removeNode(node) {\n        if (node) {\n            node.parentNode.removeChild(node);\n        }\n    };\n\n    function ScriptTag(props, context) {\n        (0, _classCallCheck3.default)(this, ScriptTag);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, _Component.call(this, props, context));\n\n        _this.domRef = null;\n        _this.state = {\n            isHydrated: props.isHydrating,\n            additionalNode: null,\n            removeAdditionalNode: null\n        };\n        return _this;\n    }\n\n    ScriptTag.prototype.appendAdditionalElement = function appendAdditionalElement() {\n        var _props = this.props,\n            onError = _props.onError,\n            onLoad = _props.onLoad,\n            nonce = _props.nonce;\n\n        // Create a new HTML script element\n\n        var newElement = document.createElement(\"script\");\n\n        // Copy all attribute values\n        for (var i = 0, len = this.domRef.attributes.length; i < len; i++) {\n            var attr = this.domRef.attributes[i];\n            if (attr.nodeName === 'nonce') {\n                // The browser clears the nonce value - grab from props\n                newElement.setAttribute(attr.nodeName, nonce);\n            } else {\n                newElement.setAttribute(attr.nodeName, attr.nodeValue);\n            }\n        }\n\n        // Copy the inner script\n        if (this.domRef.src === '' && this.domRef.innerHTML && this.domRef.innerHTML !== '') {\n            newElement.innerHTML = this.domRef.innerHTML;\n        }\n\n        // Bind event listeners\n        newElement.addEventListener('load', onLoad);\n        newElement.addEventListener('error', onError);\n\n        // Append the new script tag\n        this.domRef.parentNode.appendChild(newElement);\n        return newElement;\n    };\n\n    ScriptTag.prototype.componentDidMount = function componentDidMount() {\n        var isHydrated = this.state.isHydrated;\n\n        if (isHydrated) {\n            // was rendered on server, don't replace elements when hydrating\n            return;\n        }\n\n        this.setState({\n            additionalNode: this.appendAdditionalElement(),\n            removeAdditionalNode: null\n        });\n    };\n\n    ScriptTag.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n        // This logic assumes that the <script> only need to be updated if the 'src' or 'innerHTML' has changed\n        //  - this prevents the <script> from updating unnecessarily, which prevents additional 'onload' events\n\n        // This isn't perfect - but it keeps the component very simple, and should cover most use-cases\n        // Other props SHOULD be assigned at the same time as either the 'src' or 'innerHTML' property\n        // -> If this is to change and support updating on ANY prop change, the 'appendAdditionalElement()' method\n        //    and state management will need to be modified to manipulate the DOM script tag based on each prop change.\n        //    This really complicates the component - for now we'll leave it as is.\n        var _props2 = this.props,\n            src = _props2.src,\n            dangerouslySetInnerHTML = _props2.dangerouslySetInnerHTML;\n\n        if (src && src === nextProps.src) {\n            // The 'src' attribute has not changed\n            return;\n        }\n\n        if (dangerouslySetInnerHTML && dangerouslySetInnerHTML.__html === nextProps.dangerouslySetInnerHTML.__html) {\n            // The 'dangerouslySetInnerHTML' attribute has not changed\n            return;\n        }\n\n        this.setState({\n            removeAdditionalNode: this.state.additionalNode,\n            additionalNode: null\n        });\n    };\n\n    ScriptTag.prototype.componentWillUpdate = function componentWillUpdate(nextProps, nextState) {\n        ScriptTag.removeNode(nextState.removeAdditionalNode);\n    };\n\n    ScriptTag.prototype.componentDidUpdate = function componentDidUpdate() {\n        var _state = this.state,\n            additionalNode = _state.additionalNode,\n            removeAdditionalNode = _state.removeAdditionalNode;\n\n        if (additionalNode === null) {\n            this.setState({\n                additionalNode: this.appendAdditionalElement()\n            });\n        }\n\n        if (removeAdditionalNode !== null) {\n            // Was removed in 'componentWillUpdate', but can not update state there\n            this.setState({\n                removeAdditionalNode: null\n            });\n        }\n    };\n\n    ScriptTag.prototype.componentWillUnmount = function componentWillUnmount() {\n        ScriptTag.removeNode(this.state.removeAdditionalNode);\n        ScriptTag.removeNode(this.state.additionalNode);\n    };\n\n    ScriptTag.prototype.render = function render() {\n        var _this2 = this;\n\n        var additionalNode = this.state.additionalNode;\n\n        if (additionalNode !== null) {\n            return null;\n        }\n\n        // The 'isHydrating' prop must NOT be passed to the script tag\n        // eslint-disable-next-line no-unused-vars\n        var _props3 = this.props,\n            isHydrating = _props3.isHydrating,\n            tagProps = (0, _objectWithoutProperties3.default)(_props3, ['isHydrating']);\n\n        return _react2.default.createElement('script', (0, _extends3.default)({}, tagProps, { ref: function ref(tag) {\n                return _this2.domRef = tag;\n            } }));\n    };\n\n    return ScriptTag;\n}(_react.Component);\n\nScriptTag.propTypes = {\n    /**\n     * True if the <ScriptTag> is being hydrated on the client, otherwise false.\n     */\n    isHydrating: _propTypes2.default.bool,\n\n    // Standard <script> tag props\n    async: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.number]),\n    crossOrigin: _propTypes2.default.string,\n    defer: _propTypes2.default.bool,\n    integrity: _propTypes2.default.string,\n    nonce: _propTypes2.default.string,\n    src: _propTypes2.default.string,\n    text: _propTypes2.default.string,\n    type: _propTypes2.default.string,\n    dangerouslySetInnerHTML: _propTypes2.default.object,\n\n    // globals\n    onError: _propTypes2.default.func,\n    onLoad: _propTypes2.default.func\n};\nScriptTag.defaultProps = {\n    isHydrating: false,\n    onError: noop,\n    onLoad: noop\n};\nexports.default = ScriptTag;"]},"metadata":{},"sourceType":"script"}