{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createModeler = undefined;\n\nvar _get2 = require('../utils/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _icepick = require('icepick');\n\nvar _icepick2 = _interopRequireDefault(_icepick);\n\nvar _arraysEqual = require('../utils/arrays-equal');\n\nvar _arraysEqual2 = _interopRequireDefault(_arraysEqual);\n\nvar _toPath = require('../utils/to-path');\n\nvar _toPath2 = _interopRequireDefault(_toPath);\n\nvar _actionTypes = require('../action-types');\n\nvar _actionTypes2 = _interopRequireDefault(_actionTypes);\n\nvar _batchedEnhancer = require('../enhancers/batched-enhancer');\n\nvar _batchedEnhancer2 = _interopRequireDefault(_batchedEnhancer);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction icepickSet(state, path, value) {\n  return _icepick2.default.setIn(state, path, value);\n}\n\nvar defaultStrategy = {\n  get: _get3.default,\n  set: icepickSet,\n  object: {}\n};\n\nfunction createModeler() {\n  var strategy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultStrategy;\n  var getter = strategy.get,\n      setter = strategy.set,\n      object = strategy.object;\n  return function _createModelReducer(model) {\n    var initialState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : object;\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var modelPath = (0, _toPath2.default)(model);\n\n    var modelReducer = function modelReducer() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n      var action = arguments[1];\n\n      if (!action.model) {\n        return state;\n      }\n\n      var path = (0, _toPath2.default)(action.model);\n\n      if (!(0, _arraysEqual2.default)(path.slice(0, modelPath.length), modelPath)) {\n        return state;\n      }\n\n      var localPath = path.slice(modelPath.length);\n\n      switch (action.type) {\n        case _actionTypes2.default.CHANGE:\n          if (!localPath.length) {\n            return action.value;\n          }\n\n          if (getter(state, localPath) === action.value) {\n            return state;\n          }\n\n          return setter(state, localPath, action.value);\n\n        case _actionTypes2.default.RESET:\n          if (!localPath.length) {\n            return initialState;\n          }\n\n          if (getter(state, localPath) === getter(initialState, localPath)) {\n            return state;\n          }\n\n          return setter(state, localPath, getter(initialState, localPath));\n\n        default:\n          return state;\n      }\n    };\n\n    return (0, _batchedEnhancer2.default)(modelReducer, initialState, options);\n  };\n}\n\nvar modelReducer = createModeler();\nexports.createModeler = createModeler;\nexports.default = modelReducer;","map":{"version":3,"sources":["/Users/mcdaniel/github/lpm0073/coursera-react/confusion/node_modules/react-redux-form/lib/reducers/model-reducer.js"],"names":["Object","defineProperty","exports","value","createModeler","undefined","_get2","require","_get3","_interopRequireDefault","_icepick","_icepick2","_arraysEqual","_arraysEqual2","_toPath","_toPath2","_actionTypes","_actionTypes2","_batchedEnhancer","_batchedEnhancer2","obj","__esModule","default","icepickSet","state","path","setIn","defaultStrategy","get","set","object","strategy","arguments","length","getter","setter","_createModelReducer","model","initialState","options","modelPath","modelReducer","action","slice","localPath","type","CHANGE","RESET"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createModeler = undefined;\n\nvar _get2 = require('../utils/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _icepick = require('icepick');\n\nvar _icepick2 = _interopRequireDefault(_icepick);\n\nvar _arraysEqual = require('../utils/arrays-equal');\n\nvar _arraysEqual2 = _interopRequireDefault(_arraysEqual);\n\nvar _toPath = require('../utils/to-path');\n\nvar _toPath2 = _interopRequireDefault(_toPath);\n\nvar _actionTypes = require('../action-types');\n\nvar _actionTypes2 = _interopRequireDefault(_actionTypes);\n\nvar _batchedEnhancer = require('../enhancers/batched-enhancer');\n\nvar _batchedEnhancer2 = _interopRequireDefault(_batchedEnhancer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction icepickSet(state, path, value) {\n  return _icepick2.default.setIn(state, path, value);\n}\n\nvar defaultStrategy = {\n  get: _get3.default,\n  set: icepickSet,\n  object: {}\n};\n\nfunction createModeler() {\n  var strategy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultStrategy;\n  var getter = strategy.get,\n      setter = strategy.set,\n      object = strategy.object;\n\n\n  return function _createModelReducer(model) {\n    var initialState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : object;\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var modelPath = (0, _toPath2.default)(model);\n\n    var modelReducer = function modelReducer() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n      var action = arguments[1];\n\n      if (!action.model) {\n        return state;\n      }\n\n      var path = (0, _toPath2.default)(action.model);\n\n      if (!(0, _arraysEqual2.default)(path.slice(0, modelPath.length), modelPath)) {\n        return state;\n      }\n\n      var localPath = path.slice(modelPath.length);\n\n      switch (action.type) {\n        case _actionTypes2.default.CHANGE:\n          if (!localPath.length) {\n            return action.value;\n          }\n\n          if (getter(state, localPath) === action.value) {\n            return state;\n          }\n\n          return setter(state, localPath, action.value);\n\n        case _actionTypes2.default.RESET:\n          if (!localPath.length) {\n            return initialState;\n          }\n\n          if (getter(state, localPath) === getter(initialState, localPath)) {\n            return state;\n          }\n\n          return setter(state, localPath, getter(initialState, localPath));\n\n        default:\n          return state;\n      }\n    };\n\n    return (0, _batchedEnhancer2.default)(modelReducer, initialState, options);\n  };\n}\n\nvar modelReducer = createModeler();\n\nexports.createModeler = createModeler;\nexports.default = modelReducer;"]},"metadata":{},"sourceType":"script"}