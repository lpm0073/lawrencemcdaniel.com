{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.throttle\"));\n\nvar _shallowequal = _interopRequireDefault(require(\"shallowequal\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar TrackVisibility = /*#__PURE__*/function (_PureComponent) {\n  _inheritsLoose(TrackVisibility, _PureComponent);\n\n  function TrackVisibility(props) {\n    var _this;\n\n    _this = _PureComponent.call(this, props) || this;\n\n    _this.isVisible = function (_ref, windowWidth, windowHeight) {\n      var top = _ref.top,\n          left = _ref.left,\n          bottom = _ref.bottom,\n          right = _ref.right,\n          width = _ref.width,\n          height = _ref.height;\n      var _this$props = _this.props,\n          offset = _this$props.offset,\n          partialVisibility = _this$props.partialVisibility;\n\n      if (top + right + bottom + left === 0) {\n        return false;\n      }\n\n      var topThreshold = 0 - offset;\n      var leftThreshold = 0 - offset;\n      var widthCheck = windowWidth + offset;\n      var heightCheck = windowHeight + offset;\n      return partialVisibility ? top + height >= topThreshold && left + width >= leftThreshold && bottom - height <= heightCheck && right - width <= widthCheck : top >= topThreshold && left >= leftThreshold && bottom <= heightCheck && right <= widthCheck;\n    };\n\n    _this.isComponentVisible = function () {\n      setTimeout(function () {\n        // isComponentVisible might be called from componentDidMount, before component ref is assigned\n        if (!_this.nodeRef || !_this.nodeRef.getBoundingClientRect) return;\n        var html = document.documentElement;\n        var once = _this.props.once;\n\n        var boundingClientRect = _this.nodeRef.getBoundingClientRect();\n\n        var windowWidth = window.innerWidth || html.clientWidth;\n        var windowHeight = window.innerHeight || html.clientHeight;\n\n        var isVisible = _this.isVisible(boundingClientRect, windowWidth, windowHeight);\n\n        if (isVisible && once) {\n          _this.removeListener();\n        }\n\n        _this.setState({\n          isVisible: isVisible\n        });\n      }, 0);\n    };\n\n    _this.setNodeRef = function (ref) {\n      return _this.nodeRef = ref;\n    };\n\n    _this.ownProps = Object.keys(TrackVisibility.propTypes);\n    _this.state = {\n      isVisible: false\n    };\n    _this.throttleCb = (0, _lodash.default)(_this.isComponentVisible, _this.props.throttleInterval);\n    props.nodeRef && _this.setNodeRef(props.nodeRef);\n    return _this;\n  }\n\n  var _proto = TrackVisibility.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.attachListener();\n    this.isComponentVisible();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (!(0, _shallowequal.default)(this.getChildProps(this.props), this.getChildProps(prevProps))) {\n      this.isComponentVisible();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.removeListener();\n  };\n\n  _proto.attachListener = function attachListener() {\n    window.addEventListener('scroll', this.throttleCb);\n    window.addEventListener('resize', this.throttleCb);\n  };\n\n  _proto.removeListener = function removeListener() {\n    window.removeEventListener('scroll', this.throttleCb);\n    window.removeEventListener('resize', this.throttleCb);\n  };\n\n  _proto.getChildProps = function getChildProps(props) {\n    var _this2 = this;\n\n    if (props === void 0) {\n      props = this.props;\n    }\n\n    var childProps = {};\n    Object.keys(props).forEach(function (key) {\n      if (_this2.ownProps.indexOf(key) === -1) {\n        childProps[key] = props[key];\n      }\n    });\n    return childProps;\n  };\n\n  _proto.getChildren = function getChildren() {\n    var _this3 = this;\n\n    if (typeof this.props.children === 'function') {\n      return this.props.children(_extends({}, this.getChildProps(), {\n        isVisible: this.state.isVisible\n      }));\n    }\n\n    return _react.default.Children.map(this.props.children, function (child) {\n      return _react.default.cloneElement(child, _extends({}, _this3.getChildProps(), {\n        isVisible: _this3.state.isVisible\n      }));\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        className = _this$props2.className,\n        style = _this$props2.style,\n        nodeRef = _this$props2.nodeRef,\n        Tag = _this$props2.tag;\n\n    var props = _extends({}, className && {\n      className: className\n    }, style && {\n      style: style\n    });\n\n    return _react.default.createElement(Tag, _extends({\n      ref: !nodeRef && this.setNodeRef\n    }, props), this.getChildren());\n  };\n\n  return TrackVisibility;\n}(_react.PureComponent);\n\nexports.default = TrackVisibility;\nTrackVisibility.propTypes = {\n  /**\n   * Define if the visibility need to be tracked once\n   */\n  once: _propTypes.default.bool,\n\n  /**\n   * Tweak the throttle interval\n   * Check https://css-tricks.com/debouncing-throttling-explained-examples/ for more details\n   */\n  throttleInterval: function throttleInterval(props, propName, component) {\n    var currentProp = props[propName];\n\n    if (!Number.isInteger(currentProp) || currentProp < 0) {\n      return new Error(\"The \" + propName + \" prop you provided to \" + component + \" is not a valid integer >= 0.\");\n    }\n\n    return null;\n  },\n\n  /**\n   * Pass one or more children to track\n   */\n  children: _propTypes.default.oneOfType([_propTypes.default.func, _propTypes.default.element, _propTypes.default.arrayOf(_propTypes.default.element)]),\n\n  /**\n   * Additional style to apply\n   */\n  style: _propTypes.default.object,\n\n  /**\n   * Additional className to apply\n   */\n  className: _propTypes.default.string,\n\n  /**\n   * Define an offset. Can be useful for lazy loading\n   */\n  offset: _propTypes.default.number,\n\n  /**\n   * Update the visibility state as soon as a part of the tracked component is visible\n   */\n  partialVisibility: _propTypes.default.bool,\n\n  /**\n   * Exposed for testing but allows node other than internal wrapping <div /> to be tracked\n   * for visibility\n   */\n  nodeRef: _propTypes.default.object,\n\n  /**\n   * Define a custom tag\n   */\n  tag: _propTypes.default.string\n};\nTrackVisibility.defaultProps = {\n  once: false,\n  throttleInterval: 150,\n  offset: 0,\n  partialVisibility: false,\n  tag: 'div'\n};","map":{"version":3,"sources":["/Users/mcdaniel/github/lpm0073/lawrencemcdaniel.com/site/node_modules/react-on-screen/lib/TrackVisibility.js"],"names":["exports","__esModule","default","_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_lodash","_shallowequal","obj","newObj","key","Object","prototype","hasOwnProperty","call","desc","defineProperty","getOwnPropertyDescriptor","get","set","_extends","assign","target","i","arguments","length","source","apply","_inheritsLoose","subClass","superClass","create","constructor","__proto__","TrackVisibility","_PureComponent","props","_this","isVisible","_ref","windowWidth","windowHeight","top","left","bottom","right","width","height","_this$props","offset","partialVisibility","topThreshold","leftThreshold","widthCheck","heightCheck","isComponentVisible","setTimeout","nodeRef","getBoundingClientRect","html","document","documentElement","once","boundingClientRect","window","innerWidth","clientWidth","innerHeight","clientHeight","removeListener","setState","setNodeRef","ref","ownProps","keys","propTypes","state","throttleCb","throttleInterval","_proto","componentDidMount","attachListener","componentDidUpdate","prevProps","getChildProps","componentWillUnmount","addEventListener","removeEventListener","_this2","childProps","forEach","indexOf","getChildren","_this3","children","Children","map","child","cloneElement","render","_this$props2","className","style","Tag","tag","createElement","PureComponent","bool","propName","component","currentProp","Number","isInteger","Error","oneOfType","func","element","arrayOf","object","string","number","defaultProps"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.throttle\"));\n\nvar _shallowequal = _interopRequireDefault(require(\"shallowequal\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar TrackVisibility =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inheritsLoose(TrackVisibility, _PureComponent);\n\n  function TrackVisibility(props) {\n    var _this;\n\n    _this = _PureComponent.call(this, props) || this;\n\n    _this.isVisible = function (_ref, windowWidth, windowHeight) {\n      var top = _ref.top,\n          left = _ref.left,\n          bottom = _ref.bottom,\n          right = _ref.right,\n          width = _ref.width,\n          height = _ref.height;\n      var _this$props = _this.props,\n          offset = _this$props.offset,\n          partialVisibility = _this$props.partialVisibility;\n\n      if (top + right + bottom + left === 0) {\n        return false;\n      }\n\n      var topThreshold = 0 - offset;\n      var leftThreshold = 0 - offset;\n      var widthCheck = windowWidth + offset;\n      var heightCheck = windowHeight + offset;\n      return partialVisibility ? top + height >= topThreshold && left + width >= leftThreshold && bottom - height <= heightCheck && right - width <= widthCheck : top >= topThreshold && left >= leftThreshold && bottom <= heightCheck && right <= widthCheck;\n    };\n\n    _this.isComponentVisible = function () {\n      setTimeout(function () {\n        // isComponentVisible might be called from componentDidMount, before component ref is assigned\n        if (!_this.nodeRef || !_this.nodeRef.getBoundingClientRect) return;\n        var html = document.documentElement;\n        var once = _this.props.once;\n\n        var boundingClientRect = _this.nodeRef.getBoundingClientRect();\n\n        var windowWidth = window.innerWidth || html.clientWidth;\n        var windowHeight = window.innerHeight || html.clientHeight;\n\n        var isVisible = _this.isVisible(boundingClientRect, windowWidth, windowHeight);\n\n        if (isVisible && once) {\n          _this.removeListener();\n        }\n\n        _this.setState({\n          isVisible: isVisible\n        });\n      }, 0);\n    };\n\n    _this.setNodeRef = function (ref) {\n      return _this.nodeRef = ref;\n    };\n\n    _this.ownProps = Object.keys(TrackVisibility.propTypes);\n    _this.state = {\n      isVisible: false\n    };\n    _this.throttleCb = (0, _lodash.default)(_this.isComponentVisible, _this.props.throttleInterval);\n    props.nodeRef && _this.setNodeRef(props.nodeRef);\n    return _this;\n  }\n\n  var _proto = TrackVisibility.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.attachListener();\n    this.isComponentVisible();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (!(0, _shallowequal.default)(this.getChildProps(this.props), this.getChildProps(prevProps))) {\n      this.isComponentVisible();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.removeListener();\n  };\n\n  _proto.attachListener = function attachListener() {\n    window.addEventListener('scroll', this.throttleCb);\n    window.addEventListener('resize', this.throttleCb);\n  };\n\n  _proto.removeListener = function removeListener() {\n    window.removeEventListener('scroll', this.throttleCb);\n    window.removeEventListener('resize', this.throttleCb);\n  };\n\n  _proto.getChildProps = function getChildProps(props) {\n    var _this2 = this;\n\n    if (props === void 0) {\n      props = this.props;\n    }\n\n    var childProps = {};\n    Object.keys(props).forEach(function (key) {\n      if (_this2.ownProps.indexOf(key) === -1) {\n        childProps[key] = props[key];\n      }\n    });\n    return childProps;\n  };\n\n  _proto.getChildren = function getChildren() {\n    var _this3 = this;\n\n    if (typeof this.props.children === 'function') {\n      return this.props.children(_extends({}, this.getChildProps(), {\n        isVisible: this.state.isVisible\n      }));\n    }\n\n    return _react.default.Children.map(this.props.children, function (child) {\n      return _react.default.cloneElement(child, _extends({}, _this3.getChildProps(), {\n        isVisible: _this3.state.isVisible\n      }));\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        className = _this$props2.className,\n        style = _this$props2.style,\n        nodeRef = _this$props2.nodeRef,\n        Tag = _this$props2.tag;\n\n    var props = _extends({}, className && {\n      className: className\n    }, style && {\n      style: style\n    });\n\n    return _react.default.createElement(Tag, _extends({\n      ref: !nodeRef && this.setNodeRef\n    }, props), this.getChildren());\n  };\n\n  return TrackVisibility;\n}(_react.PureComponent);\n\nexports.default = TrackVisibility;\nTrackVisibility.propTypes = {\n  /**\n   * Define if the visibility need to be tracked once\n   */\n  once: _propTypes.default.bool,\n\n  /**\n   * Tweak the throttle interval\n   * Check https://css-tricks.com/debouncing-throttling-explained-examples/ for more details\n   */\n  throttleInterval: function throttleInterval(props, propName, component) {\n    var currentProp = props[propName];\n\n    if (!Number.isInteger(currentProp) || currentProp < 0) {\n      return new Error(\"The \" + propName + \" prop you provided to \" + component + \" is not a valid integer >= 0.\");\n    }\n\n    return null;\n  },\n\n  /**\n   * Pass one or more children to track\n   */\n  children: _propTypes.default.oneOfType([_propTypes.default.func, _propTypes.default.element, _propTypes.default.arrayOf(_propTypes.default.element)]),\n\n  /**\n   * Additional style to apply\n   */\n  style: _propTypes.default.object,\n\n  /**\n   * Additional className to apply\n   */\n  className: _propTypes.default.string,\n\n  /**\n   * Define an offset. Can be useful for lazy loading\n   */\n  offset: _propTypes.default.number,\n\n  /**\n   * Update the visibility state as soon as a part of the tracked component is visible\n   */\n  partialVisibility: _propTypes.default.bool,\n\n  /**\n   * Exposed for testing but allows node other than internal wrapping <div /> to be tracked\n   * for visibility\n   */\n  nodeRef: _propTypes.default.object,\n\n  /**\n   * Define a custom tag\n   */\n  tag: _propTypes.default.string\n};\nTrackVisibility.defaultProps = {\n  once: false,\n  throttleInterval: 150,\n  offset: 0,\n  partialVisibility: false,\n  tag: 'div'\n};"]},"metadata":{},"sourceType":"script"}