{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createForms = exports.createFormCombiner = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _modeledEnhancer = require('../enhancers/modeled-enhancer');\n\nvar _modeledEnhancer2 = _interopRequireDefault(_modeledEnhancer);\n\nvar _modelReducer = require('./model-reducer');\n\nvar _modelReducer2 = _interopRequireDefault(_modelReducer);\n\nvar _formReducer = require('./form-reducer');\n\nvar _formReducer2 = _interopRequireDefault(_formReducer);\n\nvar _redux = require('redux');\n\nvar _identity = require('../utils/identity');\n\nvar _identity2 = _interopRequireDefault(_identity);\n\nvar _nullAction = require('../constants/null-action');\n\nvar _nullAction2 = _interopRequireDefault(_nullAction);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nvar defaults = {\n  key: 'forms',\n  plugins: []\n};\n\nfunction getSubModelString(model, subModel) {\n  if (!model) return subModel;\n  return model + '.' + subModel;\n}\n\nvar defaultStrategy = {\n  modelReducer: _modelReducer2.default,\n  formReducer: _formReducer2.default,\n  modeled: _modeledEnhancer2.default,\n  toJS: _identity2.default\n};\n\nfunction createFormCombiner() {\n  var strategy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultStrategy;\n\n  function createForms(forms) {\n    var model = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var formKeys = Object.keys(forms);\n    var modelReducers = {};\n    var initialFormState = {};\n\n    var optionsWithDefaults = _extends({}, defaults, options);\n\n    var key = optionsWithDefaults.key,\n        plugins = optionsWithDefaults.plugins,\n        formOptions = _objectWithoutProperties(optionsWithDefaults, ['key', 'plugins']);\n\n    formKeys.forEach(function (formKey) {\n      var formValue = forms[formKey];\n      var subModel = getSubModelString(model, formKey);\n\n      if (typeof formValue === 'function') {\n        var initialState = void 0;\n\n        try {\n          initialState = formValue(undefined, _nullAction2.default);\n        } catch (error) {\n          initialState = null;\n        }\n\n        modelReducers[formKey] = strategy.modeled(formValue, subModel);\n        initialFormState[formKey] = initialState;\n      } else {\n        modelReducers[formKey] = strategy.modelReducer(subModel, formValue);\n        initialFormState[formKey] = strategy.toJS(formValue);\n      }\n    });\n    return _extends({}, modelReducers, _defineProperty({}, key, function (state, action) {\n      return strategy.formReducer(model, initialFormState, _extends({\n        plugins: plugins\n      }, formOptions))(state, action);\n    }));\n  }\n\n  function combineForms(forms) {\n    var model = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var mappedReducers = createForms(forms, model, options);\n    return (0, _redux.combineReducers)(mappedReducers);\n  }\n\n  return {\n    createForms: createForms,\n    combineForms: combineForms\n  };\n}\n\nvar _createFormCombiner = createFormCombiner(),\n    defaultCombineForms = _createFormCombiner.combineForms,\n    defaultCreateForms = _createFormCombiner.createForms;\n\nexports.default = defaultCombineForms;\nexports.createFormCombiner = createFormCombiner;\nexports.createForms = defaultCreateForms;","map":{"version":3,"sources":["/Users/mcdaniel/github/lpm0073/coursera-react/confusion/node_modules/react-redux-form/lib/reducers/forms-reducer.js"],"names":["Object","defineProperty","exports","value","createForms","createFormCombiner","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_modeledEnhancer","require","_modeledEnhancer2","_interopRequireDefault","_modelReducer","_modelReducer2","_formReducer","_formReducer2","_redux","_identity","_identity2","_nullAction","_nullAction2","obj","__esModule","default","_defineProperty","enumerable","configurable","writable","_objectWithoutProperties","keys","indexOf","defaults","plugins","getSubModelString","model","subModel","defaultStrategy","modelReducer","formReducer","modeled","toJS","strategy","forms","options","formKeys","modelReducers","initialFormState","optionsWithDefaults","formOptions","forEach","formKey","formValue","initialState","error","state","action","combineForms","mappedReducers","combineReducers","_createFormCombiner","defaultCombineForms","defaultCreateForms"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createForms = exports.createFormCombiner = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _modeledEnhancer = require('../enhancers/modeled-enhancer');\n\nvar _modeledEnhancer2 = _interopRequireDefault(_modeledEnhancer);\n\nvar _modelReducer = require('./model-reducer');\n\nvar _modelReducer2 = _interopRequireDefault(_modelReducer);\n\nvar _formReducer = require('./form-reducer');\n\nvar _formReducer2 = _interopRequireDefault(_formReducer);\n\nvar _redux = require('redux');\n\nvar _identity = require('../utils/identity');\n\nvar _identity2 = _interopRequireDefault(_identity);\n\nvar _nullAction = require('../constants/null-action');\n\nvar _nullAction2 = _interopRequireDefault(_nullAction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar defaults = {\n  key: 'forms',\n  plugins: []\n};\n\nfunction getSubModelString(model, subModel) {\n  if (!model) return subModel;\n\n  return model + '.' + subModel;\n}\n\nvar defaultStrategy = {\n  modelReducer: _modelReducer2.default,\n  formReducer: _formReducer2.default,\n  modeled: _modeledEnhancer2.default,\n  toJS: _identity2.default\n};\n\nfunction createFormCombiner() {\n  var strategy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultStrategy;\n\n  function createForms(forms) {\n    var model = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var formKeys = Object.keys(forms);\n    var modelReducers = {};\n    var initialFormState = {};\n    var optionsWithDefaults = _extends({}, defaults, options);\n\n    var key = optionsWithDefaults.key,\n        plugins = optionsWithDefaults.plugins,\n        formOptions = _objectWithoutProperties(optionsWithDefaults, ['key', 'plugins']);\n\n    formKeys.forEach(function (formKey) {\n      var formValue = forms[formKey];\n      var subModel = getSubModelString(model, formKey);\n\n      if (typeof formValue === 'function') {\n        var initialState = void 0;\n        try {\n          initialState = formValue(undefined, _nullAction2.default);\n        } catch (error) {\n          initialState = null;\n        }\n\n        modelReducers[formKey] = strategy.modeled(formValue, subModel);\n        initialFormState[formKey] = initialState;\n      } else {\n        modelReducers[formKey] = strategy.modelReducer(subModel, formValue);\n        initialFormState[formKey] = strategy.toJS(formValue);\n      }\n    });\n\n    return _extends({}, modelReducers, _defineProperty({}, key, function (state, action) {\n      return strategy.formReducer(model, initialFormState, _extends({\n        plugins: plugins\n      }, formOptions))(state, action);\n    }));\n  }\n\n  function combineForms(forms) {\n    var model = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var mappedReducers = createForms(forms, model, options);\n\n    return (0, _redux.combineReducers)(mappedReducers);\n  }\n\n  return {\n    createForms: createForms,\n    combineForms: combineForms\n  };\n}\n\nvar _createFormCombiner = createFormCombiner(),\n    defaultCombineForms = _createFormCombiner.combineForms,\n    defaultCreateForms = _createFormCombiner.createForms;\n\nexports.default = defaultCombineForms;\nexports.createFormCombiner = createFormCombiner;\nexports.createForms = defaultCreateForms;"]},"metadata":{},"sourceType":"script"}