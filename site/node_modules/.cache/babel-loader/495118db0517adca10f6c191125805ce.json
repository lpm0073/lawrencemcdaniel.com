{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = updateSubFields;\n\nvar _get = require('./get');\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _assocIn = require('./assoc-in');\n\nvar _assocIn2 = _interopRequireDefault(_assocIn);\n\nvar _createField = require('./create-field');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction updateSubField(subField, newSubState) {\n  // Form\n  if (subField && subField.$form) {\n    // intermediate value - not mutated outside function\n    var result = {};\n    Object.keys(subField).forEach(function (key) {\n      if (key === '$form') {\n        result.$form = (0, _createField.updateFieldState)(subField.$form, newSubState);\n      } else {\n        result[key] = updateSubField(subField[key], newSubState);\n      }\n    });\n    return result;\n  } // Field\n\n\n  return (0, _createField.updateFieldState)(subField, newSubState);\n}\n\nfunction updateSubFields(state, localPath, newState) {\n  var field = (0, _get2.default)(state, localPath); // only forms can have fields -\n  // skip if field is not a form\n\n  if (!field || !field.$form) return state; // intermediate value - not mutated outside function\n\n  var updatedField = {};\n  Object.keys(field).forEach(function (key) {\n    if (key === '$form') {\n      updatedField.$form = field.$form;\n    } else {\n      updatedField[key] = updateSubField(field[key], newState);\n    }\n  });\n  if (!localPath.length) return updatedField;\n  return (0, _assocIn2.default)(state, localPath, updatedField);\n}","map":{"version":3,"sources":["/Users/mcdaniel/github/lpm0073/coursera-react/confusion/node_modules/react-redux-form/lib/utils/update-sub-fields.js"],"names":["Object","defineProperty","exports","value","default","updateSubFields","_get","require","_get2","_interopRequireDefault","_assocIn","_assocIn2","_createField","obj","__esModule","updateSubField","subField","newSubState","$form","result","keys","forEach","key","updateFieldState","state","localPath","newState","field","updatedField","length"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkBC,eAAlB;;AAEA,IAAIC,IAAI,GAAGC,OAAO,CAAC,OAAD,CAAlB;;AAEA,IAAIC,KAAK,GAAGC,sBAAsB,CAACH,IAAD,CAAlC;;AAEA,IAAII,QAAQ,GAAGH,OAAO,CAAC,YAAD,CAAtB;;AAEA,IAAII,SAAS,GAAGF,sBAAsB,CAACC,QAAD,CAAtC;;AAEA,IAAIE,YAAY,GAAGL,OAAO,CAAC,gBAAD,CAA1B;;AAEA,SAASE,sBAAT,CAAgCI,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAET,IAAAA,OAAO,EAAES;AAAX,GAArC;AAAwD;;AAE/F,SAASE,cAAT,CAAwBC,QAAxB,EAAkCC,WAAlC,EAA+C;AAC7C;AACA,MAAID,QAAQ,IAAIA,QAAQ,CAACE,KAAzB,EAAgC;AAC9B;AACA,QAAIC,MAAM,GAAG,EAAb;AAEAnB,IAAAA,MAAM,CAACoB,IAAP,CAAYJ,QAAZ,EAAsBK,OAAtB,CAA8B,UAAUC,GAAV,EAAe;AAC3C,UAAIA,GAAG,KAAK,OAAZ,EAAqB;AACnBH,QAAAA,MAAM,CAACD,KAAP,GAAe,CAAC,GAAGN,YAAY,CAACW,gBAAjB,EAAmCP,QAAQ,CAACE,KAA5C,EAAmDD,WAAnD,CAAf;AACD,OAFD,MAEO;AACLE,QAAAA,MAAM,CAACG,GAAD,CAAN,GAAcP,cAAc,CAACC,QAAQ,CAACM,GAAD,CAAT,EAAgBL,WAAhB,CAA5B;AACD;AACF,KAND;AAQA,WAAOE,MAAP;AACD,GAf4C,CAiB7C;;;AACA,SAAO,CAAC,GAAGP,YAAY,CAACW,gBAAjB,EAAmCP,QAAnC,EAA6CC,WAA7C,CAAP;AACD;;AAED,SAASZ,eAAT,CAAyBmB,KAAzB,EAAgCC,SAAhC,EAA2CC,QAA3C,EAAqD;AACnD,MAAIC,KAAK,GAAG,CAAC,GAAGnB,KAAK,CAACJ,OAAV,EAAmBoB,KAAnB,EAA0BC,SAA1B,CAAZ,CADmD,CAGnD;AACA;;AACA,MAAI,CAACE,KAAD,IAAU,CAACA,KAAK,CAACT,KAArB,EAA4B,OAAOM,KAAP,CALuB,CAOnD;;AACA,MAAII,YAAY,GAAG,EAAnB;AAEA5B,EAAAA,MAAM,CAACoB,IAAP,CAAYO,KAAZ,EAAmBN,OAAnB,CAA2B,UAAUC,GAAV,EAAe;AACxC,QAAIA,GAAG,KAAK,OAAZ,EAAqB;AACnBM,MAAAA,YAAY,CAACV,KAAb,GAAqBS,KAAK,CAACT,KAA3B;AACD,KAFD,MAEO;AACLU,MAAAA,YAAY,CAACN,GAAD,CAAZ,GAAoBP,cAAc,CAACY,KAAK,CAACL,GAAD,CAAN,EAAaI,QAAb,CAAlC;AACD;AACF,GAND;AAQA,MAAI,CAACD,SAAS,CAACI,MAAf,EAAuB,OAAOD,YAAP;AAEvB,SAAO,CAAC,GAAGjB,SAAS,CAACP,OAAd,EAAuBoB,KAAvB,EAA8BC,SAA9B,EAAyCG,YAAzC,CAAP;AACD","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = updateSubFields;\n\nvar _get = require('./get');\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _assocIn = require('./assoc-in');\n\nvar _assocIn2 = _interopRequireDefault(_assocIn);\n\nvar _createField = require('./create-field');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction updateSubField(subField, newSubState) {\n  // Form\n  if (subField && subField.$form) {\n    // intermediate value - not mutated outside function\n    var result = {};\n\n    Object.keys(subField).forEach(function (key) {\n      if (key === '$form') {\n        result.$form = (0, _createField.updateFieldState)(subField.$form, newSubState);\n      } else {\n        result[key] = updateSubField(subField[key], newSubState);\n      }\n    });\n\n    return result;\n  }\n\n  // Field\n  return (0, _createField.updateFieldState)(subField, newSubState);\n}\n\nfunction updateSubFields(state, localPath, newState) {\n  var field = (0, _get2.default)(state, localPath);\n\n  // only forms can have fields -\n  // skip if field is not a form\n  if (!field || !field.$form) return state;\n\n  // intermediate value - not mutated outside function\n  var updatedField = {};\n\n  Object.keys(field).forEach(function (key) {\n    if (key === '$form') {\n      updatedField.$form = field.$form;\n    } else {\n      updatedField[key] = updateSubField(field[key], newState);\n    }\n  });\n\n  if (!localPath.length) return updatedField;\n\n  return (0, _assocIn2.default)(state, localPath, updatedField);\n}"]},"metadata":{},"sourceType":"script"}