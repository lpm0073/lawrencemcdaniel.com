{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createFormClass = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _shallowEqual = require('../utils/shallow-equal');\n\nvar _shallowEqual2 = _interopRequireDefault(_shallowEqual);\n\nvar _get2 = require('../utils/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _omit = require('../utils/omit');\n\nvar _omit2 = _interopRequireDefault(_omit);\n\nvar _actions = require('../actions');\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nvar _getValidity = require('../utils/get-validity');\n\nvar _getValidity2 = _interopRequireDefault(_getValidity);\n\nvar _invertValidators = require('../utils/invert-validators');\n\nvar _invertValidators2 = _interopRequireDefault(_invertValidators);\n\nvar _isValidityInvalid = require('../utils/is-validity-invalid');\n\nvar _isValidityInvalid2 = _interopRequireDefault(_isValidityInvalid);\n\nvar _isValid = require('../form/is-valid');\n\nvar _isValid2 = _interopRequireDefault(_isValid);\n\nvar _getForm = require('../utils/get-form');\n\nvar _getForm2 = _interopRequireDefault(_getForm);\n\nvar _getModel = require('../utils/get-model');\n\nvar _getModel2 = _interopRequireDefault(_getModel);\n\nvar _getField = require('../utils/get-field');\n\nvar _getField2 = _interopRequireDefault(_getField);\n\nvar _deepCompareChildren = require('../utils/deep-compare-children');\n\nvar _deepCompareChildren2 = _interopRequireDefault(_deepCompareChildren);\n\nvar _containsEvent = require('../utils/contains-event');\n\nvar _containsEvent2 = _interopRequireDefault(_containsEvent);\n\nvar _mergeValidity = require('../utils/merge-validity');\n\nvar _mergeValidity2 = _interopRequireDefault(_mergeValidity);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar propTypes = {\n  component: _propTypes2.default.any,\n  validators: _propTypes2.default.oneOfType([_propTypes2.default.object, _propTypes2.default.func]),\n  errors: _propTypes2.default.object,\n  validateOn: _propTypes2.default.oneOf(['change', 'submit']),\n  model: _propTypes2.default.string.isRequired,\n  modelValue: _propTypes2.default.any,\n  formValue: _propTypes2.default.object,\n  onSubmit: _propTypes2.default.func,\n  onSubmitFailed: _propTypes2.default.func,\n  dispatch: _propTypes2.default.func,\n  children: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.node]),\n  store: _propTypes2.default.shape({\n    subscribe: _propTypes2.default.func,\n    dispatch: _propTypes2.default.func,\n    getState: _propTypes2.default.func\n  }),\n  storeSubscription: _propTypes2.default.any,\n  onUpdate: _propTypes2.default.func,\n  onChange: _propTypes2.default.func,\n  getRef: _propTypes2.default.func,\n  getDispatch: _propTypes2.default.func,\n  onBeforeSubmit: _propTypes2.default.func,\n  hideNativeErrors: _propTypes2.default.bool,\n  // standard HTML attributes\n  action: _propTypes2.default.string,\n  noValidate: _propTypes2.default.bool\n};\nvar htmlAttributes = ['action', 'noValidate'];\nvar disallowedPropTypeKeys = Object.keys(propTypes).filter(function (key) {\n  return htmlAttributes.indexOf(key) === -1;\n});\nvar defaultStrategy = {\n  get: _get3.default,\n  getForm: _getForm2.default,\n  actions: _actions2.default\n};\n\nfunction createFormClass() {\n  var s = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultStrategy;\n\n  var Form = function (_Component) {\n    _inherits(Form, _Component);\n\n    function Form(props) {\n      _classCallCheck(this, Form);\n\n      var _this = _possibleConstructorReturn(this, (Form.__proto__ || Object.getPrototypeOf(Form)).call(this, props));\n\n      _this.handleSubmit = _this.handleSubmit.bind(_this);\n      _this.handleReset = _this.handleReset.bind(_this);\n      _this.handleValidSubmit = _this.handleValidSubmit.bind(_this);\n      _this.handleInvalidSubmit = _this.handleInvalidSubmit.bind(_this);\n      _this.attachNode = _this.attachNode.bind(_this);\n      _this.state = {\n        lastSubmitEvent: null\n      };\n      return _this;\n    }\n\n    _createClass(Form, [{\n      key: 'getChildContext',\n      value: function getChildContext() {\n        return {\n          model: this.props.model,\n          localStore: this.props.store\n        };\n      }\n    }, {\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        if ((0, _containsEvent2.default)(this.props.validateOn, 'change')) {\n          this.validate(this.props, true);\n        }\n\n        if (this.props.getDispatch) {\n          this.props.getDispatch(this.props.dispatch);\n        }\n      }\n    }, {\n      key: 'componentWillReceiveProps',\n      value: function componentWillReceiveProps(nextProps) {\n        if ((0, _containsEvent2.default)(nextProps.validateOn, 'change')) {\n          this.validate(nextProps);\n        }\n      }\n    }, {\n      key: 'shouldComponentUpdate',\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        return (0, _deepCompareChildren2.default)(this, nextProps, nextState);\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate(prevProps) {\n        this.handleIntents();\n\n        if (!(0, _shallowEqual2.default)(prevProps.formValue, this.props.formValue)) {\n          this.handleUpdate();\n        }\n\n        if (!(0, _shallowEqual2.default)(prevProps.modelValue, this.props.modelValue)) {\n          this.handleChange();\n        }\n      }\n    }, {\n      key: 'handleUpdate',\n      value: function handleUpdate() {\n        if (this.props.onUpdate) {\n          this.props.onUpdate(this.props.formValue);\n        }\n      }\n    }, {\n      key: 'handleChange',\n      value: function handleChange() {\n        if (this.props.onChange) {\n          this.props.onChange(this.props.modelValue);\n        }\n      }\n    }, {\n      key: 'attachNode',\n      value: function attachNode(node) {\n        if (!node) return;\n        this._node = node;\n        this._node.submit = this.handleSubmit;\n        if (this.props.getRef) this.props.getRef(node);\n      }\n    }, {\n      key: 'validate',\n      value: function validate(nextProps) {\n        var _this2 = this;\n\n        var initial = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        var submit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        var _props = this.props,\n            model = _props.model,\n            dispatch = _props.dispatch,\n            formValue = _props.formValue,\n            modelValue = _props.modelValue;\n        var validators = nextProps.validators,\n            errors = nextProps.errors;\n        if (!formValue) return;\n\n        if (!validators && !errors && modelValue !== nextProps.modelValue) {\n          return;\n        }\n\n        var validatorsChanged = validators !== this.props.validators || errors !== this.props.errors;\n        var fieldKeys = (validators ? Object.keys(validators) : []).concat(errors ? Object.keys(errors) : []);\n        var fieldsErrors = {};\n        var validityChanged = false;\n        var keysToValidate = [];\n        fieldKeys.forEach(function (key) {\n          if (!!~keysToValidate.indexOf(key)) return;\n          var valuesChanged = key === '' ? modelValue !== nextProps.modelValue : s.get(modelValue, key) !== s.get(nextProps.modelValue, key);\n\n          if (submit || initial || valuesChanged || validators && _this2.props.validators[key] !== validators[key] || errors && _this2.props.errors[key] !== errors[key] || !!~key.indexOf('[]')) {\n            keysToValidate.push(key);\n          }\n        });\n\n        var validateField = function validateField(field, errorValidator) {\n          if (!!~field.indexOf('[]')) {\n            var _field$split = field.split('[]'),\n                _field$split2 = _slicedToArray(_field$split, 2),\n                parentModel = _field$split2[0],\n                childModel = _field$split2[1];\n\n            var nextValue = parentModel ? s.get(nextProps.modelValue, parentModel) : nextProps.modelValue;\n            nextValue.forEach(function (subValue, index) {\n              validateField(parentModel + '[' + index + ']' + childModel, errorValidator);\n            });\n          } else {\n            var _nextValue = field ? s.get(nextProps.modelValue, field) : nextProps.modelValue;\n\n            var currentErrors = (0, _getField2.default)(formValue, field).errors;\n            var fieldErrors = (0, _getValidity2.default)(errorValidator, _nextValue);\n\n            if (!validityChanged && !(0, _shallowEqual2.default)(fieldErrors, currentErrors)) {\n              validityChanged = true;\n            }\n\n            fieldsErrors[field] = (0, _mergeValidity2.default)(fieldsErrors[field], fieldErrors);\n          }\n        };\n\n        keysToValidate.forEach(function (field) {\n          if (validators && validators[field]) {\n            validateField(field, (0, _invertValidators2.default)(validators[field]));\n          }\n\n          if (errors && errors[field]) {\n            validateField(field, errors[field]);\n          }\n        });\n\n        if (typeof validators === 'function') {\n          var nextValue = nextProps.modelValue;\n          var currentValue = modelValue;\n\n          if (!submit && !initial && !validatorsChanged && nextValue === currentValue) {\n            // If neither the validators nor the values have changed,\n            // the validity didn't change.\n            return;\n          }\n\n          var multiFieldErrors = (0, _getValidity2.default)(validators, nextValue);\n\n          if (multiFieldErrors) {\n            Object.keys(multiFieldErrors).forEach(function (key) {\n              // key will be the model value to apply errors to.\n              var fieldErrors = multiFieldErrors[key];\n              var currentErrors = (0, _getField2.default)(formValue, key).errors; // Invert validators\n\n              Object.keys(fieldErrors).forEach(function (validationName) {\n                fieldErrors[validationName] = !fieldErrors[validationName];\n              });\n\n              if (!validityChanged && !(0, _shallowEqual2.default)(fieldErrors, currentErrors)) {\n                validityChanged = true;\n              }\n\n              fieldsErrors[key] = (0, _mergeValidity2.default)(fieldsErrors[key], fieldErrors);\n            });\n          }\n        } // Compute form-level validity\n\n\n        if (!fieldsErrors.hasOwnProperty('') && !~fieldKeys.indexOf('')) {\n          fieldsErrors[''] = false;\n          validityChanged = validityChanged || (0, _isValidityInvalid2.default)(formValue.$form.errors);\n        }\n\n        if (validityChanged) {\n          dispatch(s.actions.setFieldsErrors(model, fieldsErrors, {\n            merge: true\n          }));\n        }\n\n        if (submit) {\n          dispatch(s.actions.addIntent(model, {\n            type: 'submit'\n          }));\n        }\n      }\n    }, {\n      key: 'handleValidSubmit',\n      value: function handleValidSubmit(options) {\n        var _props2 = this.props,\n            dispatch = _props2.dispatch,\n            model = _props2.model,\n            modelValue = _props2.modelValue,\n            onSubmit = _props2.onSubmit;\n        dispatch(s.actions.setPending(model, true, options));\n        if (onSubmit) onSubmit(modelValue, this.state.lastSubmitEvent);\n      }\n    }, {\n      key: 'handleInvalidSubmit',\n      value: function handleInvalidSubmit(options) {\n        var _props3 = this.props,\n            onSubmitFailed = _props3.onSubmitFailed,\n            formValue = _props3.formValue,\n            dispatch = _props3.dispatch;\n\n        if (onSubmitFailed) {\n          onSubmitFailed(formValue);\n        }\n\n        dispatch(s.actions.setSubmitFailed(this.props.model, true, options));\n      }\n    }, {\n      key: 'handleReset',\n      value: function handleReset(e) {\n        if (e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n\n        this.props.dispatch(s.actions.reset(this.props.model));\n      }\n    }, {\n      key: 'handleIntents',\n      value: function handleIntents() {\n        var _this3 = this;\n\n        var _props4 = this.props,\n            formValue = _props4.formValue,\n            noValidate = _props4.noValidate;\n        formValue.$form.intents.forEach(function (intent) {\n          switch (intent.type) {\n            case 'submit':\n              {\n                if (noValidate || (0, _isValid2.default)(formValue, {\n                  async: false\n                })) {\n                  _this3.handleValidSubmit({\n                    clearIntents: intent\n                  });\n                } else {\n                  _this3.handleInvalidSubmit({\n                    clearIntents: intent\n                  });\n                }\n\n                return;\n              }\n\n            default:\n              return;\n          }\n        });\n      }\n    }, {\n      key: 'handleSubmit',\n      value: function handleSubmit(e) {\n        if (e) {\n          if (!this.props.action) e.preventDefault();\n          e.stopPropagation();\n        }\n\n        if (e && e.persist) e.persist();\n        var _props5 = this.props,\n            modelValue = _props5.modelValue,\n            formValue = _props5.formValue,\n            onSubmit = _props5.onSubmit,\n            validators = _props5.validators,\n            onBeforeSubmit = _props5.onBeforeSubmit;\n        if (onBeforeSubmit) onBeforeSubmit(e);\n        var formValid = formValue ? formValue.$form.valid : true;\n\n        if (!validators && onSubmit && formValid) {\n          onSubmit(modelValue, e);\n          return modelValue;\n        }\n\n        this.setState({\n          lastSubmitEvent: e\n        });\n        this.validate(this.props, false, true);\n        return modelValue;\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _props6 = this.props,\n            component = _props6.component,\n            children = _props6.children,\n            formValue = _props6.formValue,\n            hideNativeErrors = _props6.hideNativeErrors,\n            noValidate = _props6.noValidate;\n        var allowedProps = (0, _omit2.default)(this.props, disallowedPropTypeKeys);\n        var renderableChildren = typeof children === 'function' ? children(formValue) : children;\n        return _react2.default.createElement(component, _extends({}, allowedProps, {\n          onSubmit: this.handleSubmit,\n          onReset: this.handleReset,\n          ref: this.attachNode,\n          noValidate: hideNativeErrors || noValidate\n        }), renderableChildren);\n      }\n    }]);\n\n    return Form;\n  }(_react.Component);\n\n  process.env.NODE_ENV !== \"production\" ? Form.propTypes = propTypes : void 0;\n  Form.defaultProps = {\n    validateOn: 'change',\n    component: 'form'\n  };\n  Form.childContextTypes = {\n    model: _propTypes2.default.any,\n    localStore: _propTypes2.default.shape({\n      subscribe: _propTypes2.default.func,\n      dispatch: _propTypes2.default.func,\n      getState: _propTypes2.default.func\n    })\n  };\n\n  function mapStateToProps(state, _ref) {\n    var model = _ref.model;\n    var modelString = (0, _getModel2.default)(model, state);\n    (0, _getForm.clearGetFormCacheForModel)(modelString);\n    var form = s.getForm(state, modelString);\n    (0, _invariant2.default)(form, 'Unable to create Form component. ' + 'Could not find form for \"%s\" in the store.', modelString);\n    return {\n      model: modelString,\n      modelValue: s.get(state, modelString),\n      formValue: form\n    };\n  }\n\n  return (0, _reactRedux.connect)(mapStateToProps)(Form);\n}\n\nexports.createFormClass = createFormClass;\nexports.default = createFormClass();","map":{"version":3,"sources":["/Users/mcdaniel/github/lpm0073/lawrencemcdaniel.com/site/node_modules/react-redux-form/lib/components/form-component.js"],"names":["Object","defineProperty","exports","value","createFormClass","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_i","Symbol","iterator","_s","next","done","push","err","Array","isArray","TypeError","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_reactRedux","_shallowEqual","_shallowEqual2","_get2","_get3","_omit","_omit2","_actions","_actions2","_getValidity","_getValidity2","_invertValidators","_invertValidators2","_isValidityInvalid","_isValidityInvalid2","_isValid","_isValid2","_getForm","_getForm2","_getModel","_getModel2","_getField","_getField2","_deepCompareChildren","_deepCompareChildren2","_containsEvent","_containsEvent2","_mergeValidity","_mergeValidity2","_invariant","_invariant2","obj","__esModule","default","_classCallCheck","instance","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","propTypes","component","any","validators","oneOfType","object","func","errors","validateOn","oneOf","model","string","isRequired","modelValue","formValue","onSubmit","onSubmitFailed","dispatch","children","node","store","shape","subscribe","getState","storeSubscription","onUpdate","onChange","getRef","getDispatch","onBeforeSubmit","hideNativeErrors","bool","action","noValidate","htmlAttributes","disallowedPropTypeKeys","keys","filter","indexOf","defaultStrategy","get","getForm","actions","s","Form","_Component","_this","getPrototypeOf","handleSubmit","bind","handleReset","handleValidSubmit","handleInvalidSubmit","attachNode","state","lastSubmitEvent","getChildContext","localStore","componentDidMount","validate","componentWillReceiveProps","nextProps","shouldComponentUpdate","nextState","componentDidUpdate","prevProps","handleIntents","handleUpdate","handleChange","_node","submit","_this2","initial","_props","validatorsChanged","fieldKeys","concat","fieldsErrors","validityChanged","keysToValidate","forEach","valuesChanged","validateField","field","errorValidator","_field$split","split","_field$split2","parentModel","childModel","nextValue","subValue","index","_nextValue","currentErrors","fieldErrors","currentValue","multiFieldErrors","validationName","$form","setFieldsErrors","merge","addIntent","type","options","_props2","setPending","_props3","setSubmitFailed","e","preventDefault","stopPropagation","reset","_this3","_props4","intents","intent","async","clearIntents","persist","_props5","formValid","valid","setState","render","_props6","allowedProps","renderableChildren","createElement","onReset","ref","Component","process","env","NODE_ENV","defaultProps","childContextTypes","mapStateToProps","_ref","modelString","clearGetFormCacheForModel","form","connect"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createFormClass = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _shallowEqual = require('../utils/shallow-equal');\n\nvar _shallowEqual2 = _interopRequireDefault(_shallowEqual);\n\nvar _get2 = require('../utils/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _omit = require('../utils/omit');\n\nvar _omit2 = _interopRequireDefault(_omit);\n\nvar _actions = require('../actions');\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nvar _getValidity = require('../utils/get-validity');\n\nvar _getValidity2 = _interopRequireDefault(_getValidity);\n\nvar _invertValidators = require('../utils/invert-validators');\n\nvar _invertValidators2 = _interopRequireDefault(_invertValidators);\n\nvar _isValidityInvalid = require('../utils/is-validity-invalid');\n\nvar _isValidityInvalid2 = _interopRequireDefault(_isValidityInvalid);\n\nvar _isValid = require('../form/is-valid');\n\nvar _isValid2 = _interopRequireDefault(_isValid);\n\nvar _getForm = require('../utils/get-form');\n\nvar _getForm2 = _interopRequireDefault(_getForm);\n\nvar _getModel = require('../utils/get-model');\n\nvar _getModel2 = _interopRequireDefault(_getModel);\n\nvar _getField = require('../utils/get-field');\n\nvar _getField2 = _interopRequireDefault(_getField);\n\nvar _deepCompareChildren = require('../utils/deep-compare-children');\n\nvar _deepCompareChildren2 = _interopRequireDefault(_deepCompareChildren);\n\nvar _containsEvent = require('../utils/contains-event');\n\nvar _containsEvent2 = _interopRequireDefault(_containsEvent);\n\nvar _mergeValidity = require('../utils/merge-validity');\n\nvar _mergeValidity2 = _interopRequireDefault(_mergeValidity);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar propTypes = {\n  component: _propTypes2.default.any,\n  validators: _propTypes2.default.oneOfType([_propTypes2.default.object, _propTypes2.default.func]),\n  errors: _propTypes2.default.object,\n  validateOn: _propTypes2.default.oneOf(['change', 'submit']),\n  model: _propTypes2.default.string.isRequired,\n  modelValue: _propTypes2.default.any,\n  formValue: _propTypes2.default.object,\n  onSubmit: _propTypes2.default.func,\n  onSubmitFailed: _propTypes2.default.func,\n  dispatch: _propTypes2.default.func,\n  children: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.node]),\n  store: _propTypes2.default.shape({\n    subscribe: _propTypes2.default.func,\n    dispatch: _propTypes2.default.func,\n    getState: _propTypes2.default.func\n  }),\n  storeSubscription: _propTypes2.default.any,\n  onUpdate: _propTypes2.default.func,\n  onChange: _propTypes2.default.func,\n  getRef: _propTypes2.default.func,\n  getDispatch: _propTypes2.default.func,\n  onBeforeSubmit: _propTypes2.default.func,\n  hideNativeErrors: _propTypes2.default.bool,\n\n  // standard HTML attributes\n  action: _propTypes2.default.string,\n  noValidate: _propTypes2.default.bool\n};\n\nvar htmlAttributes = ['action', 'noValidate'];\nvar disallowedPropTypeKeys = Object.keys(propTypes).filter(function (key) {\n  return htmlAttributes.indexOf(key) === -1;\n});\n\nvar defaultStrategy = {\n  get: _get3.default,\n  getForm: _getForm2.default,\n  actions: _actions2.default\n};\n\nfunction createFormClass() {\n  var s = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultStrategy;\n\n  var Form = function (_Component) {\n    _inherits(Form, _Component);\n\n    function Form(props) {\n      _classCallCheck(this, Form);\n\n      var _this = _possibleConstructorReturn(this, (Form.__proto__ || Object.getPrototypeOf(Form)).call(this, props));\n\n      _this.handleSubmit = _this.handleSubmit.bind(_this);\n      _this.handleReset = _this.handleReset.bind(_this);\n      _this.handleValidSubmit = _this.handleValidSubmit.bind(_this);\n      _this.handleInvalidSubmit = _this.handleInvalidSubmit.bind(_this);\n      _this.attachNode = _this.attachNode.bind(_this);\n\n      _this.state = {\n        lastSubmitEvent: null\n      };\n      return _this;\n    }\n\n    _createClass(Form, [{\n      key: 'getChildContext',\n      value: function getChildContext() {\n        return {\n          model: this.props.model,\n          localStore: this.props.store\n        };\n      }\n    }, {\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        if ((0, _containsEvent2.default)(this.props.validateOn, 'change')) {\n          this.validate(this.props, true);\n        }\n\n        if (this.props.getDispatch) {\n          this.props.getDispatch(this.props.dispatch);\n        }\n      }\n    }, {\n      key: 'componentWillReceiveProps',\n      value: function componentWillReceiveProps(nextProps) {\n        if ((0, _containsEvent2.default)(nextProps.validateOn, 'change')) {\n          this.validate(nextProps);\n        }\n      }\n    }, {\n      key: 'shouldComponentUpdate',\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        return (0, _deepCompareChildren2.default)(this, nextProps, nextState);\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate(prevProps) {\n        this.handleIntents();\n\n        if (!(0, _shallowEqual2.default)(prevProps.formValue, this.props.formValue)) {\n          this.handleUpdate();\n        }\n\n        if (!(0, _shallowEqual2.default)(prevProps.modelValue, this.props.modelValue)) {\n          this.handleChange();\n        }\n      }\n    }, {\n      key: 'handleUpdate',\n      value: function handleUpdate() {\n        if (this.props.onUpdate) {\n          this.props.onUpdate(this.props.formValue);\n        }\n      }\n    }, {\n      key: 'handleChange',\n      value: function handleChange() {\n        if (this.props.onChange) {\n          this.props.onChange(this.props.modelValue);\n        }\n      }\n    }, {\n      key: 'attachNode',\n      value: function attachNode(node) {\n        if (!node) return;\n\n        this._node = node;\n\n        this._node.submit = this.handleSubmit;\n        if (this.props.getRef) this.props.getRef(node);\n      }\n    }, {\n      key: 'validate',\n      value: function validate(nextProps) {\n        var _this2 = this;\n\n        var initial = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        var submit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        var _props = this.props,\n            model = _props.model,\n            dispatch = _props.dispatch,\n            formValue = _props.formValue,\n            modelValue = _props.modelValue;\n        var validators = nextProps.validators,\n            errors = nextProps.errors;\n\n\n        if (!formValue) return;\n\n        if (!validators && !errors && modelValue !== nextProps.modelValue) {\n          return;\n        }\n\n        var validatorsChanged = validators !== this.props.validators || errors !== this.props.errors;\n        var fieldKeys = (validators ? Object.keys(validators) : []).concat(errors ? Object.keys(errors) : []);\n\n        var fieldsErrors = {};\n        var validityChanged = false;\n\n        var keysToValidate = [];\n\n        fieldKeys.forEach(function (key) {\n          if (!!~keysToValidate.indexOf(key)) return;\n\n          var valuesChanged = key === '' ? modelValue !== nextProps.modelValue : s.get(modelValue, key) !== s.get(nextProps.modelValue, key);\n\n          if (submit || initial || valuesChanged || validators && _this2.props.validators[key] !== validators[key] || errors && _this2.props.errors[key] !== errors[key] || !!~key.indexOf('[]')) {\n            keysToValidate.push(key);\n          }\n        });\n\n        var validateField = function validateField(field, errorValidator) {\n          if (!!~field.indexOf('[]')) {\n            var _field$split = field.split('[]'),\n                _field$split2 = _slicedToArray(_field$split, 2),\n                parentModel = _field$split2[0],\n                childModel = _field$split2[1];\n\n            var nextValue = parentModel ? s.get(nextProps.modelValue, parentModel) : nextProps.modelValue;\n\n            nextValue.forEach(function (subValue, index) {\n              validateField(parentModel + '[' + index + ']' + childModel, errorValidator);\n            });\n          } else {\n            var _nextValue = field ? s.get(nextProps.modelValue, field) : nextProps.modelValue;\n\n            var currentErrors = (0, _getField2.default)(formValue, field).errors;\n            var fieldErrors = (0, _getValidity2.default)(errorValidator, _nextValue);\n\n            if (!validityChanged && !(0, _shallowEqual2.default)(fieldErrors, currentErrors)) {\n              validityChanged = true;\n            }\n\n            fieldsErrors[field] = (0, _mergeValidity2.default)(fieldsErrors[field], fieldErrors);\n          }\n        };\n\n        keysToValidate.forEach(function (field) {\n          if (validators && validators[field]) {\n            validateField(field, (0, _invertValidators2.default)(validators[field]));\n          }\n          if (errors && errors[field]) {\n            validateField(field, errors[field]);\n          }\n        });\n\n        if (typeof validators === 'function') {\n          var nextValue = nextProps.modelValue;\n          var currentValue = modelValue;\n\n          if (!submit && !initial && !validatorsChanged && nextValue === currentValue) {\n            // If neither the validators nor the values have changed,\n            // the validity didn't change.\n            return;\n          }\n\n          var multiFieldErrors = (0, _getValidity2.default)(validators, nextValue);\n\n          if (multiFieldErrors) {\n            Object.keys(multiFieldErrors).forEach(function (key) {\n              // key will be the model value to apply errors to.\n              var fieldErrors = multiFieldErrors[key];\n              var currentErrors = (0, _getField2.default)(formValue, key).errors;\n\n              // Invert validators\n              Object.keys(fieldErrors).forEach(function (validationName) {\n                fieldErrors[validationName] = !fieldErrors[validationName];\n              });\n\n              if (!validityChanged && !(0, _shallowEqual2.default)(fieldErrors, currentErrors)) {\n                validityChanged = true;\n              }\n\n              fieldsErrors[key] = (0, _mergeValidity2.default)(fieldsErrors[key], fieldErrors);\n            });\n          }\n        }\n\n        // Compute form-level validity\n        if (!fieldsErrors.hasOwnProperty('') && !~fieldKeys.indexOf('')) {\n          fieldsErrors[''] = false;\n          validityChanged = validityChanged || (0, _isValidityInvalid2.default)(formValue.$form.errors);\n        }\n\n        if (validityChanged) {\n          dispatch(s.actions.setFieldsErrors(model, fieldsErrors, { merge: true }));\n        }\n\n        if (submit) {\n          dispatch(s.actions.addIntent(model, { type: 'submit' }));\n        }\n      }\n    }, {\n      key: 'handleValidSubmit',\n      value: function handleValidSubmit(options) {\n        var _props2 = this.props,\n            dispatch = _props2.dispatch,\n            model = _props2.model,\n            modelValue = _props2.modelValue,\n            onSubmit = _props2.onSubmit;\n\n\n        dispatch(s.actions.setPending(model, true, options));\n\n        if (onSubmit) onSubmit(modelValue, this.state.lastSubmitEvent);\n      }\n    }, {\n      key: 'handleInvalidSubmit',\n      value: function handleInvalidSubmit(options) {\n        var _props3 = this.props,\n            onSubmitFailed = _props3.onSubmitFailed,\n            formValue = _props3.formValue,\n            dispatch = _props3.dispatch;\n\n\n        if (onSubmitFailed) {\n          onSubmitFailed(formValue);\n        }\n\n        dispatch(s.actions.setSubmitFailed(this.props.model, true, options));\n      }\n    }, {\n      key: 'handleReset',\n      value: function handleReset(e) {\n        if (e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n\n        this.props.dispatch(s.actions.reset(this.props.model));\n      }\n    }, {\n      key: 'handleIntents',\n      value: function handleIntents() {\n        var _this3 = this;\n\n        var _props4 = this.props,\n            formValue = _props4.formValue,\n            noValidate = _props4.noValidate;\n\n\n        formValue.$form.intents.forEach(function (intent) {\n          switch (intent.type) {\n            case 'submit':\n              {\n                if (noValidate || (0, _isValid2.default)(formValue, { async: false })) {\n                  _this3.handleValidSubmit({ clearIntents: intent });\n                } else {\n                  _this3.handleInvalidSubmit({ clearIntents: intent });\n                }\n\n                return;\n              }\n\n            default:\n              return;\n          }\n        });\n      }\n    }, {\n      key: 'handleSubmit',\n      value: function handleSubmit(e) {\n        if (e) {\n          if (!this.props.action) e.preventDefault();\n          e.stopPropagation();\n        }\n        if (e && e.persist) e.persist();\n\n        var _props5 = this.props,\n            modelValue = _props5.modelValue,\n            formValue = _props5.formValue,\n            onSubmit = _props5.onSubmit,\n            validators = _props5.validators,\n            onBeforeSubmit = _props5.onBeforeSubmit;\n\n\n        if (onBeforeSubmit) onBeforeSubmit(e);\n\n        var formValid = formValue ? formValue.$form.valid : true;\n\n        if (!validators && onSubmit && formValid) {\n          onSubmit(modelValue, e);\n\n          return modelValue;\n        }\n\n        this.setState({ lastSubmitEvent: e });\n\n        this.validate(this.props, false, true);\n\n        return modelValue;\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _props6 = this.props,\n            component = _props6.component,\n            children = _props6.children,\n            formValue = _props6.formValue,\n            hideNativeErrors = _props6.hideNativeErrors,\n            noValidate = _props6.noValidate;\n\n\n        var allowedProps = (0, _omit2.default)(this.props, disallowedPropTypeKeys);\n        var renderableChildren = typeof children === 'function' ? children(formValue) : children;\n\n        return _react2.default.createElement(component, _extends({}, allowedProps, {\n          onSubmit: this.handleSubmit,\n          onReset: this.handleReset,\n          ref: this.attachNode,\n          noValidate: hideNativeErrors || noValidate\n        }), renderableChildren);\n      }\n    }]);\n\n    return Form;\n  }(_react.Component);\n\n  process.env.NODE_ENV !== \"production\" ? Form.propTypes = propTypes : void 0;\n\n  Form.defaultProps = {\n    validateOn: 'change',\n    component: 'form'\n  };\n\n  Form.childContextTypes = {\n    model: _propTypes2.default.any,\n    localStore: _propTypes2.default.shape({\n      subscribe: _propTypes2.default.func,\n      dispatch: _propTypes2.default.func,\n      getState: _propTypes2.default.func\n    })\n  };\n\n  function mapStateToProps(state, _ref) {\n    var model = _ref.model;\n\n    var modelString = (0, _getModel2.default)(model, state);\n    (0, _getForm.clearGetFormCacheForModel)(modelString);\n    var form = s.getForm(state, modelString);\n\n    (0, _invariant2.default)(form, 'Unable to create Form component. ' + 'Could not find form for \"%s\" in the store.', modelString);\n\n    return {\n      model: modelString,\n      modelValue: s.get(state, modelString),\n      formValue: form\n    };\n  }\n\n  return (0, _reactRedux.connect)(mapStateToProps)(Form);\n}\n\nexports.createFormClass = createFormClass;\nexports.default = createFormClass();"]},"metadata":{},"sourceType":"script"}