{"ast":null,"code":"var _jsxFileName = \"/Users/mcdaniel/github/lpm0073/lawrencemcdaniel.com/site/src/components/logocube/Component.js\";\n\n/*\n    https://www.smashingmagazine.com/2018/02/react-d3-ecosystem/\n */\nimport React, { Component } from 'react';\nimport { selectAll, select } from \"d3-selection\";\nimport transition from 'd3-transition';\nimport { wpGetFeaturedImage } from '../../shared/wpGetFeaturedImage';\nimport './styles.css';\n\nclass LogoCube extends Component {\n  componentDidMount() {\n    // D3 Code to create the chart\n    console.log(\"componentDidMount\", length(this.props.logos.items), this.props.logos.items);\n\n    if (this.props.logos.items > 0) {\n      console.log(\"hi mom\");\n      this.repaint();\n    }\n  }\n\n  componentDidUpdate() {\n    // D3 Code to update the chart\n    console.log(\"componentDidUpdate\", this.props.logos.items);\n\n    if (this.props.logos.items > 0) {\n      this.repaint();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d3-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d3-cube\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d3-side top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 50\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d3-side front\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 52\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d3-side back\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 51\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d3-side right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d3-side left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d3-side bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 25\n      }\n    })))));\n  }\n\n  logos() {\n    return this.props.logos.items;\n  }\n\n  repaint() {\n    console.log(\"repaint()\", this.state.logos.items.length);\n\n    function shuffleArray(array) {\n      let i = array.length - 1;\n\n      for (; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        const temp = array[i];\n        array[i] = array[j];\n        array[j] = temp;\n      }\n\n      return array;\n    }\n\n    function random_logo() {\n      const logos = shuffleArray(this.props.logos.items);\n      return logos[Math.floor(Math.random() * logos.length)];\n    }\n\n    var idx = Math.floor(Math.random() * selectAll(\".logo\").size());\n    selectAll(\".logo\").filter(function (d, i) {\n      return i === idx;\n    }).each(function () {\n      var side = select(this);\n      setTimeout(function () {\n        side.transition().duration(500).style(\"opacity\", 0);\n        side.style(\"background-image\", \"url('\" + random_logo() + \"')\");\n        side.transition().duration(500).style(\"opacity\", 1);\n        this.repaint();\n      }, 3000 * Math.random());\n    });\n  }\n\n}\n\nexport default LogoCube;","map":{"version":3,"sources":["/Users/mcdaniel/github/lpm0073/lawrencemcdaniel.com/site/src/components/logocube/Component.js"],"names":["React","Component","selectAll","select","transition","wpGetFeaturedImage","LogoCube","componentDidMount","console","log","length","props","logos","items","repaint","componentDidUpdate","render","state","shuffleArray","array","i","j","Math","floor","random","temp","random_logo","idx","size","filter","d","each","side","setTimeout","duration","style"],"mappings":"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","sourcesContent":["/*\n    https://www.smashingmagazine.com/2018/02/react-d3-ecosystem/\n */\nimport React, { Component } from 'react';\nimport { selectAll, select } from \"d3-selection\";\nimport transition from 'd3-transition';\nimport { wpGetFeaturedImage } from '../../shared/wpGetFeaturedImage';\nimport './styles.css';\n\nclass LogoCube extends Component {\n\n\n    componentDidMount() {\n        // D3 Code to create the chart\n        console.log(\"componentDidMount\", length(this.props.logos.items), this.props.logos.items);\n        if (this.props.logos.items > 0) {\n            console.log(\"hi mom\");\n            this.repaint();\n        }\n\n    }\n\n    componentDidUpdate() {\n        // D3 Code to update the chart\n\n        console.log(\"componentDidUpdate\", this.props.logos.items);\n        if (this.props.logos.items > 0) {\n            this.repaint();\n        }\n    }\n\n    render() {\n\n        return(\n\n            <div className=\"d3-container\">\n                <div className=\"d3-cube\">\n                    <div className=\"d3-side top\"><div>\n                        <div className=\"logo\"></div>\n                    </div></div>\n\n                    <div className=\"d3-side front\"><div>\n                        <div className=\"logo\"></div>\n                    </div></div>\n\n                    <div className=\"d3-side back\"><div>\n                        <div className=\"logo\"></div>\n                    </div></div>\n\n                    <div className=\"d3-side right\">\n                        <div>\n                        <div className=\"logo\"></div>\n                        </div>\n                    </div>\n                    <div className=\"d3-side left\">\n                        <div>\n                        <div className=\"logo\"></div>\n                        </div>\n                    </div>\n                    <div className=\"d3-side bottom\"><div>\n                        <div className=\"logo\"></div>\n                    </div></div>\n                </div>\n            </div>\n\n        );\n    }\n\n    logos() {\n        return this.props.logos.items;\n    }\n          \n\n\n    repaint() {\n        console.log(\"repaint()\", this.state.logos.items.length)\n\n        function shuffleArray(array) {\n            let i = array.length - 1;\n            for (; i > 0; i--) {\n                const j = Math.floor(Math.random() * (i + 1));\n                const temp = array[i];\n                array[i] = array[j];\n                array[j] = temp;\n            }\n            return array;\n        }\n    \n        function random_logo() {\n            const logos = shuffleArray(this.props.logos.items);\n            return logos[Math.floor(Math.random() * logos.length)];\n        }\n              \n        var idx = Math.floor(Math.random() * selectAll(\".logo\").size());\n        selectAll(\".logo\")\n          .filter(function(d, i) {return i === idx})\n          .each(function() {\n      \n            var side = select(this);\n            setTimeout(function() {\n              side.transition()\n                  .duration(500)\n                  .style(\"opacity\", 0);\n      \n              side.style(\"background-image\", \"url('\" + random_logo() + \"')\");\n      \n              side.transition()\n                  .duration(500)\n                  .style(\"opacity\", 1);\n      \n                  this.repaint();\n              }, 3000*Math.random());   \n      \n      \n          });\n      \n    }\n      \n}\n\nexport default LogoCube;\n"]},"metadata":{},"sourceType":"module"}